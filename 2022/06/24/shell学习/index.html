<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=2">
<meta name="theme-color" content="#222">
<meta name="generator" content="Hexo 6.1.0">
  <link rel="apple-touch-icon" sizes="180x180" href="/images/apple-touch-icon-next.png">
  <link rel="icon" type="image/png" sizes="32x32" href="/images/favicon-32x32-next.png">
  <link rel="icon" type="image/png" sizes="16x16" href="/images/favicon-16x16-next.png">
  <link rel="mask-icon" href="/images/logo.svg" color="#222">

<link rel="stylesheet" href="/css/main.css">


<link rel="stylesheet" href="/lib/font-awesome/css/all.min.css">

<script id="hexo-configurations">
    var NexT = window.NexT || {};
    var CONFIG = {"hostname":"xiaowodi.github.io","root":"/","scheme":"Muse","version":"7.8.0","exturl":false,"sidebar":{"position":"left","display":"post","padding":18,"offset":12,"onmobile":false},"copycode":{"enable":false,"show_result":false,"style":null},"back2top":{"enable":true,"sidebar":false,"scrollpercent":false},"bookmark":{"enable":false,"color":"#222","save":"auto"},"fancybox":false,"mediumzoom":false,"lazyload":false,"pangu":false,"comments":{"style":"tabs","active":null,"storage":true,"lazyload":false,"nav":null},"algolia":{"hits":{"per_page":10},"labels":{"input_placeholder":"Search for Posts","hits_empty":"We didn't find any results for the search: ${query}","hits_stats":"${hits} results found in ${time} ms"}},"localsearch":{"enable":false,"trigger":"auto","top_n_per_article":1,"unescape":false,"preload":false},"motion":{"enable":true,"async":false,"transition":{"post_block":"fadeIn","post_header":"slideDownIn","post_body":"slideDownIn","coll_header":"slideLeftIn","sidebar":"slideUpIn"}}};
  </script>

  <meta name="description" content="[TOC] Shell学习笔记输入输出重定向1. 标准输入输出   设备 设备文件名 文件描述符 类型    键盘 &#x2F;dev&#x2F;stdin 0 标准输入   显示器 &#x2F;dev&#x2F;sdtout 1 标准输出   显示器 &#x2F;dev&#x2F;sdterr 2 标准错误输出   2. 输出重定向   类型 符号 作用    标准输出重定向 命令 &gt; 文件 以覆盖的方式，把命令的正确输出输出到指定的文件或设备当中">
<meta property="og:type" content="article">
<meta property="og:title" content="Linux 学习笔记">
<meta property="og:url" content="https://xiaowodi.github.io/2022/06/24/shell%E5%AD%A6%E4%B9%A0/index.html">
<meta property="og:site_name" content="Hexo">
<meta property="og:description" content="[TOC] Shell学习笔记输入输出重定向1. 标准输入输出   设备 设备文件名 文件描述符 类型    键盘 &#x2F;dev&#x2F;stdin 0 标准输入   显示器 &#x2F;dev&#x2F;sdtout 1 标准输出   显示器 &#x2F;dev&#x2F;sdterr 2 标准错误输出   2. 输出重定向   类型 符号 作用    标准输出重定向 命令 &gt; 文件 以覆盖的方式，把命令的正确输出输出到指定的文件或设备当中">
<meta property="og:locale" content="en_US">
<meta property="og:image" content="https://xiaowodi.github.io/2022/06/24/shell%E5%AD%A6%E4%B9%A0/source/shell%E5%AD%A6%E4%B9%A0/%E7%8E%AF%E5%A2%83%E5%8F%98%E9%87%8F%E6%96%87%E4%BB%B6%E8%B0%83%E7%94%A8%E9%A1%BA%E5%BA%8F-1639209622414.png">
<meta property="article:published_time" content="2022-06-24T08:12:10.622Z">
<meta property="article:modified_time" content="2022-06-24T08:12:10.622Z">
<meta property="article:author" content="John Doe">
<meta name="twitter:card" content="summary">
<meta name="twitter:image" content="https://xiaowodi.github.io/2022/06/24/shell%E5%AD%A6%E4%B9%A0/source/shell%E5%AD%A6%E4%B9%A0/%E7%8E%AF%E5%A2%83%E5%8F%98%E9%87%8F%E6%96%87%E4%BB%B6%E8%B0%83%E7%94%A8%E9%A1%BA%E5%BA%8F-1639209622414.png">

<link rel="canonical" href="https://xiaowodi.github.io/2022/06/24/shell%E5%AD%A6%E4%B9%A0/">


<script id="page-configurations">
  // https://hexo.io/docs/variables.html
  CONFIG.page = {
    sidebar: "",
    isHome : false,
    isPost : true,
    lang   : 'en'
  };
</script>

  <title>Linux 学习笔记 | Hexo</title>
  






  <noscript>
  <style>
  .use-motion .brand,
  .use-motion .menu-item,
  .sidebar-inner,
  .use-motion .post-block,
  .use-motion .pagination,
  .use-motion .comments,
  .use-motion .post-header,
  .use-motion .post-body,
  .use-motion .collection-header { opacity: initial; }

  .use-motion .site-title,
  .use-motion .site-subtitle {
    opacity: initial;
    top: initial;
  }

  .use-motion .logo-line-before i { left: initial; }
  .use-motion .logo-line-after i { right: initial; }
  </style>
</noscript>

</head>

<body itemscope itemtype="http://schema.org/WebPage">
  <div class="container use-motion">
    <div class="headband"></div>

    <header class="header" itemscope itemtype="http://schema.org/WPHeader">
      <div class="header-inner"><div class="site-brand-container">
  <div class="site-nav-toggle">
    <div class="toggle" aria-label="Toggle navigation bar">
      <span class="toggle-line toggle-line-first"></span>
      <span class="toggle-line toggle-line-middle"></span>
      <span class="toggle-line toggle-line-last"></span>
    </div>
  </div>

  <div class="site-meta">

    <a href="/" class="brand" rel="start">
      <span class="logo-line-before"><i></i></span>
      <h1 class="site-title">Hexo</h1>
      <span class="logo-line-after"><i></i></span>
    </a>
  </div>

  <div class="site-nav-right">
    <div class="toggle popup-trigger">
    </div>
  </div>
</div>




<nav class="site-nav">
  <ul id="menu" class="main-menu menu">
        <li class="menu-item menu-item-home">

    <a href="/" rel="section"><i class="fa fa-home fa-fw"></i>Home</a>

  </li>
        <li class="menu-item menu-item-archives">

    <a href="/archives/" rel="section"><i class="fa fa-archive fa-fw"></i>Archives</a>

  </li>
  </ul>
</nav>




</div>
    </header>

    
  <div class="back-to-top">
    <i class="fa fa-arrow-up"></i>
    <span>0%</span>
  </div>


    <main class="main">
      <div class="main-inner">
        <div class="content-wrap">
          

          <div class="content post posts-expand">
            

    
  
  
  <article itemscope itemtype="http://schema.org/Article" class="post-block" lang="en">
    <link itemprop="mainEntityOfPage" href="https://xiaowodi.github.io/2022/06/24/shell%E5%AD%A6%E4%B9%A0/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/avatar.gif">
      <meta itemprop="name" content="John Doe">
      <meta itemprop="description" content="">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="Hexo">
    </span>
      <header class="post-header">
        <h1 class="post-title" itemprop="name headline">
          Linux 学习笔记
        </h1>

        <div class="post-meta">
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-calendar"></i>
              </span>
              <span class="post-meta-item-text">Posted on</span>

              <time title="Created: 2022-06-24 08:12:10" itemprop="dateCreated datePublished" datetime="2022-06-24T08:12:10+00:00">2022-06-24</time>
            </span>

          

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">

      
        <p>[TOC]</p>
<h1 id="Shell学习笔记"><a href="#Shell学习笔记" class="headerlink" title="Shell学习笔记"></a>Shell学习笔记</h1><h2 id="输入输出重定向"><a href="#输入输出重定向" class="headerlink" title="输入输出重定向"></a>输入输出重定向</h2><h3 id="1-标准输入输出"><a href="#1-标准输入输出" class="headerlink" title="1. 标准输入输出"></a>1. 标准输入输出</h3><table>
<thead>
<tr>
<th>设备</th>
<th>设备文件名</th>
<th>文件描述符</th>
<th>类型</th>
</tr>
</thead>
<tbody><tr>
<td>键盘</td>
<td><code>/dev/stdin</code></td>
<td>0</td>
<td>标准输入</td>
</tr>
<tr>
<td>显示器</td>
<td><code>/dev/sdtout</code></td>
<td>1</td>
<td>标准输出</td>
</tr>
<tr>
<td>显示器</td>
<td><code>/dev/sdterr</code></td>
<td>2</td>
<td>标准错误输出</td>
</tr>
</tbody></table>
<h3 id="2-输出重定向"><a href="#2-输出重定向" class="headerlink" title="2. 输出重定向"></a>2. 输出重定向</h3><table>
<thead>
<tr>
<th>类型</th>
<th>符号</th>
<th>作用</th>
</tr>
</thead>
<tbody><tr>
<td>标准输出重定向</td>
<td>命令 &gt; 文件</td>
<td>以覆盖的方式，把命令的正确输出输出到指定的文件或设备当中</td>
</tr>
<tr>
<td></td>
<td>命令 &gt;&gt; 文件</td>
<td>以追加的方式，把命令的正确输出输出到指定的文件或设备当中</td>
</tr>
<tr>
<td>标准错误输出重定向</td>
<td>错误命令 2&gt; 文件</td>
<td>以覆盖的方式，把命令的错误输出输出到指定的文件或设备当中。</td>
</tr>
<tr>
<td></td>
<td>错误命令 2&gt;&gt; 文件</td>
<td>以追加的方式，把命令的错误输出输出到指定的文件中。</td>
</tr>
<tr>
<td><font color=red>正确输出和错误输出同时保存</font></td>
<td>命令 &gt; 文件 2&gt;&amp;1</td>
<td>以覆盖的方式，把正确输出和错误输出都保存到同一个文件当中</td>
</tr>
<tr>
<td></td>
<td>命令 &gt;&gt; 文件 2&gt;&amp;1</td>
<td>以追加的方式，把正确输出和错误输出都保存到同一个文件当中</td>
</tr>
<tr>
<td></td>
<td>命令 &amp;&gt; 文件</td>
<td>以覆盖的方式，把正确输出和错误输出都保存到同一个文件当中</td>
</tr>
<tr>
<td></td>
<td>命令 &amp;&gt;&gt; 文件</td>
<td>以追加的方式，把正确输出和错误输出都保存到同一个文件中</td>
</tr>
<tr>
<td></td>
<td>命令 &gt;&gt; 文件1 2&gt;&gt; 文件2</td>
<td>把正确的输出追加到文件1中，把错误的输出追加到文件2中</td>
</tr>
</tbody></table>
<p>有一种常用的方式</p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">ls &amp;&gt;&gt; /dev/null  #  将命令的正确输出和错误输出都输出到黑洞中</span><br></pre></td></tr></table></figure>





<h3 id="3-输入重定向"><a href="#3-输入重定向" class="headerlink" title="3. 输入重定向"></a>3. 输入重定向</h3><p><code>命令 &lt; 文件</code> 把文件作为命令的输入</p>
<p>例子： wc统计文件中的 行、词、字节</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">Demo2</span> &#123;</span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title function_">main</span><span class="params">(String[] args)</span> <span class="keyword">throws</span> InterruptedException &#123;</span><br><span class="line">        <span class="keyword">while</span> (<span class="literal">true</span>) &#123;</span><br><span class="line">            System.out.println(<span class="string">&quot;hello&quot;</span>);</span><br><span class="line">            Thread.sleep(<span class="number">1000</span>);</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">[hadoop@kube-master1 Files]$ wc &lt; Demo2.java </span><br><span class="line">  8  20 216</span><br></pre></td></tr></table></figure>



<h2 id="多命令顺序执行与管道符"><a href="#多命令顺序执行与管道符" class="headerlink" title="多命令顺序执行与管道符"></a>多命令顺序执行与管道符</h2><h3 id="命令顺序执行，逻辑与执行，逻辑或执行"><a href="#命令顺序执行，逻辑与执行，逻辑或执行" class="headerlink" title="命令顺序执行，逻辑与执行，逻辑或执行"></a>命令顺序执行，逻辑与执行，逻辑或执行</h3><table>
<thead>
<tr>
<th>多命令执行</th>
<th>格式</th>
<th>作用</th>
</tr>
</thead>
<tbody><tr>
<td><code>;</code></td>
<td><code>命令1 ; 命令2</code></td>
<td>多个命令顺序执行，命令之间没有任何逻辑联系</td>
</tr>
<tr>
<td><code>&amp;&amp;</code></td>
<td><code>命令1 &amp;&amp; 命令2</code></td>
<td>逻辑与<br />当命令1正确执行，则命令2才会执行<br />当命令1执行不正确，则命令2不会执行</td>
</tr>
<tr>
<td>`</td>
<td></td>
<td>`</td>
</tr>
</tbody></table>
<p>举例：</p>
<ol>
<li>统计磁盘复制时间</li>
</ol>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta"># </span><span class="language-bash"><span class="built_in">dd</span> 命令 复制磁盘</span></span><br><span class="line">dd if=输入文件 of=输出文件 bs=字节数 count=个数</span><br><span class="line">选项：</span><br><span class="line">	if=输入文件		指定源文件或源设备</span><br><span class="line">	of=输出文件		执行目标文件或目标设备</span><br><span class="line">	bs=字节数		 指定一次输入/输出多少字节，即把这些字节看做一个数据块</span><br><span class="line">	count=个数	  指定输入/输出多少个数据块</span><br><span class="line"><span class="meta">root@localhost~]# </span><span class="language-bash"><span class="built_in">date</span>; <span class="built_in">dd</span> <span class="keyword">if</span>=/dev/zero of=/root/testfile bs=1k count=100000; <span class="built_in">date</span></span></span><br><span class="line"><span class="meta"># </span><span class="language-bash">上述命令可以查看复制磁盘数据所花费的时间</span></span><br><span class="line"></span><br></pre></td></tr></table></figure>

<ol start="2">
<li>编译软件(<code>configure</code>完成后才可以<code>make</code>完成后才可以执行<code>make install</code> )</li>
</ol>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">./configure &amp;&amp; make &amp;&amp; make install</span><br></pre></td></tr></table></figure>

<p>例子2：</p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">[root@localhost ~]# 命令 &amp;&amp; echo yes || echo no</span><br><span class="line"><span class="meta"># </span><span class="language-bash">如果 命令执行成功 则输出 <span class="built_in">yes</span> ，如果命令执行失败，则输出 no</span></span><br></pre></td></tr></table></figure>



<h3 id="管道符"><a href="#管道符" class="headerlink" title="管道符"></a>管道符</h3><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">[root@loaclhost ~]# 命令1 | 命令2</span><br><span class="line"><span class="meta"># </span><span class="language-bash">命令1的正确输出作为命令2的操作对象</span></span><br></pre></td></tr></table></figure>



<p><code>grep</code>命令</p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">grep [选项] &quot;搜索内容&quot; 文件</span><br><span class="line">选项：</span><br><span class="line">	-i		忽略大小写</span><br><span class="line">	-n		输出行号</span><br><span class="line">	-v		反向查找（查找处理需要查找关键内容 之外 的 内容）</span><br><span class="line">	--color=auto	搜索出的关键字用颜色显示</span><br><span class="line"></span><br><span class="line">例如：</span><br><span class="line">grep -v &quot;abc&quot; text.java  # 查找除了包含abc之外的内容</span><br></pre></td></tr></table></figure>





<h2 id="通配符和其他特殊符号"><a href="#通配符和其他特殊符号" class="headerlink" title="通配符和其他特殊符号"></a>通配符和其他特殊符号</h2><table>
<thead>
<tr>
<th>通配符</th>
<th>作用</th>
</tr>
</thead>
<tbody><tr>
<td>?</td>
<td>匹配一个任意字符</td>
</tr>
<tr>
<td>*</td>
<td>匹配0个或任意多个任意字符，也就是可以匹配任何内容；例如删除一个文件夹中的所有文件：<code>rm -rf /home/files/*</code></td>
</tr>
<tr>
<td>[]</td>
<td>匹配中括号中的任意一个字符，例如：<code>[abc]</code>代表一定匹配一个字符，要么是<code>a</code>，要么是<code>b</code>，要么是<code>c</code>。</td>
</tr>
<tr>
<td>[-]</td>
<td>匹配中括号中任意一个字符，<code>-</code>代表一个范围，例如<code>[a-z]</code>代表匹配一个a到z的小写字母</td>
</tr>
<tr>
<td>[^]</td>
<td>逻辑非，表示匹配不是中括号内的一个字符</td>
</tr>
</tbody></table>
<p>举几个例子：</p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">rm -rf *		# 删除所在目录下的所有文件</span><br><span class="line">ls ?abc			# 列出以abc结尾的，名字为4位的所有文件</span><br><span class="line">ls *abc			# 列出以abc结尾的所有文件</span><br><span class="line">ls [0-9]*		# 列出以数字开头的所有文件</span><br><span class="line">ls [^0-9]		# 列出不以数字开头的所有文件</span><br></pre></td></tr></table></figure>

<table>
<thead>
<tr>
<th>特殊符号</th>
<th>作用</th>
</tr>
</thead>
<tbody><tr>
<td><code>&#39;&#39;</code></td>
<td>单引号。在单引号中所有的特殊符号，如<code>$</code>和``` `（反引号）都没有特殊含义</td>
</tr>
<tr>
<td><code>&quot;&quot;</code></td>
<td>双引号。在双引号中特殊符号都没有特殊含义，但是<code>$</code>、``` <code>和</code>`是例外，拥有<strong>调用变量的值</strong>、<strong>引用命令</strong>、<strong>转义符</strong>的特殊含义</td>
</tr>
<tr>
<td>``` `</td>
<td>反引号。反引号括起来的内容是系统命令，在Bash中会先执行它。和<code>$()</code>作用一样，不过推荐使用<code>$()</code>，因为反引号非常容易看错</td>
</tr>
<tr>
<td><code>$()</code></td>
<td>和反引号作用一样，用来引用系统命令</td>
</tr>
<tr>
<td><code>#</code></td>
<td>在Shell脚本中，#开头的行代表注释</td>
</tr>
<tr>
<td><code>$</code></td>
<td>用于调用变量的值，如需要调用变量name的值时，需要用<code>$name</code>的方式得到变量的值</td>
</tr>
<tr>
<td><code>\</code></td>
<td>转义符，跟在<code>\</code>之后的特殊符号将失去特殊含义，变为普通字符<br />如<code>\$</code>将输出$符号，而不当做是变量引用。</td>
</tr>
</tbody></table>
<h2 id="Bash变量"><a href="#Bash变量" class="headerlink" title="Bash变量"></a>Bash变量</h2><ul>
<li>在Bash中，变量的<strong>默认</strong>类型都是<strong>字符串</strong>类型，如果要进行数值运算，则必须指定变量类型为<strong>数值型</strong></li>
<li>变量用<code>=</code>连接，等号左右两侧不能有空格</li>
<li>变量的值如果有空格，需要使用单引号<code>``</code>或者<code>&quot;&quot;</code>包括（因为空格在shell中，默认为分割符）</li>
<li>在变量的值中，可以使用<code>\</code>转义符</li>
<li>如果需要增加变量的值，那么可以进行变量值的累加。不过变量需要用<code>&quot;&quot;</code>包含<ul>
<li><code>&quot;$变量名&quot;</code></li>
<li><code>$&#123;变量名&#125;</code></li>
</ul>
</li>
<li>如果把命令的结果作为变量值赋予变量，则需要使用反引号或者<code>$()</code>包含命令</li>
<li>环境变量名建议大写，便于区分</li>
</ul>
<p><strong>变量的分类</strong></p>
<blockquote>
<ul>
<li>用户自定义变量</li>
<li>环境变量：这种变量中主要保存的是和系统操作环境相关的数据</li>
<li>位置参数变量：这种变量主要是用来向脚本当中传递参数或数据的，变量名不能自定义，变量作用是固定的。</li>
<li>预定义变量：是Bash中已经定义好的变量，变量名不能自定义，变量作用也是固定的。</li>
</ul>
</blockquote>
<h3 id="用户自定义变量（本地变量）"><a href="#用户自定义变量（本地变量）" class="headerlink" title="用户自定义变量（本地变量）"></a>用户自定义变量（本地变量）</h3><p>用户自定义变量只存在于当前shell中，父Shell和子Shell都访问不到</p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">name=$(date)</span><br><span class="line">name2=$&#123;name&#125;abc  # 变量叠加</span><br><span class="line">name3=&quot;$name&quot;abc  # 变量叠加</span><br><span class="line">echo $name2</span><br><span class="line"><span class="meta"># </span><span class="language-bash"><span class="built_in">set</span>命令可以查看所有变量</span></span><br><span class="line">set</span><br><span class="line"><span class="meta"># </span><span class="language-bash">删除变量</span></span><br><span class="line">unset 变量名</span><br></pre></td></tr></table></figure>



<h3 id="环境变量"><a href="#环境变量" class="headerlink" title="环境变量"></a>环境变量</h3><p>用户自定义变量只在当前的Shell中生效，而环境变量会在当前Shell和这个Shell的所有子Shell中生效。如果把环境变量写入相应的配置文件，那么这个环境变量就会在所有的Shell中生效。</p>
<ul>
<li>设置环境变量 <code>export 环境变量名=环境变量值</code></li>
<li>查询环境变量 <code>env</code></li>
<li>删除环境变量 <code>unset</code></li>
</ul>
<p>:bulb:<strong>补充命令</strong></p>
<blockquote>
<p><code>pstree</code>：查看进程树</p>
</blockquote>
<h4 id="系统常见的环境变量"><a href="#系统常见的环境变量" class="headerlink" title="系统常见的环境变量"></a>系统常见的环境变量</h4><ul>
<li><p>PATH：系统查找命令的路径</p>
<ul>
<li><p>PATH用<code>:</code>进行分隔</p>
<ul>
<li><blockquote>
<p>```shell<br>yu@PC:~$ echo $PATH<br>/home/yu/bin:/usr/local/sbin:/usr/local/bin:/usr/sbin:/usr/bin:/sbin:/bin:/usr/games:/usr/local/games:/snap/bin</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line"> - PATH变量叠加</span><br><span class="line"></span><br><span class="line">   - &gt; ```shell</span><br><span class="line">PATH=&quot;$PATH&quot;:/root/sh</span><br><span class="line"></span><br><span class="line">PATH=$&#123;PATH&#125;:/root/sh</span><br></pre></td></tr></table></figure></blockquote>
</li>
</ul>
</li>
</ul>
</li>
<li><p>PS1：定义系统提示符的变量</p>
<ul>
<li><table>
<thead>
<tr>
<th>符号</th>
<th>说明</th>
</tr>
</thead>
<tbody><tr>
<td><code>\d</code></td>
<td>显示日期，格式为：“星期  月  日”</td>
</tr>
<tr>
<td><code>\h</code></td>
<td>显示简写主机名。如默认的主机名“localhost”</td>
</tr>
<tr>
<td><code>\t</code></td>
<td>显示24小时制时间，格式为“HH:MM:SS”</td>
</tr>
<tr>
<td><code>\T</code></td>
<td>显示12小时制时间，格式为“HH:MM:SS”</td>
</tr>
<tr>
<td><code>\A</code></td>
<td>显示24小时制时间，格式为“HH:MM”</td>
</tr>
<tr>
<td><code>\u</code></td>
<td>显示当前用户名</td>
</tr>
<tr>
<td><code>\w</code></td>
<td>显示当前所在目录的完整名称</td>
</tr>
<tr>
<td><code>\W</code></td>
<td>显示当前所在目录的最后一个目录</td>
</tr>
<tr>
<td><code>\#</code></td>
<td>执行的第几个命令</td>
</tr>
<tr>
<td><code>\$</code></td>
<td>提示符。如果是root用户会显示提示为”#”，如果是普通用户，会显示提示符为“$”</td>
</tr>
</tbody></table>
</li>
<li><blockquote>
<p>```shell<br>yu@PC:~$ echo $PS1<br>[\e]0;\u@\h: \w\a]${debian_chroot:+($debian_chroot)}\u@\h:\w$</p>
<h1 id="重新设置PS1变量"><a href="#重新设置PS1变量" class="headerlink" title="重新设置PS1变量"></a>重新设置PS1变量</h1><p>yu@PC:~$ PS1=’[\u@\h \t \w]:#$‘<br>[yu@PC 15:53:58 ~]:9$</p>
<h1 id="用户名-主机名-时间-完整目录-执行的第几个命令-提示符"><a href="#用户名-主机名-时间-完整目录-执行的第几个命令-提示符" class="headerlink" title="[用户名@主机名 时间 完整目录]:执行的第几个命令 提示符"></a>[用户名@主机名 时间 完整目录]:执行的第几个命令 提示符</h1><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line">### 位置参数变量</span><br><span class="line"></span><br><span class="line">| 位置参数变量 | 作用                                                         |</span><br><span class="line">| ------------ | ------------------------------------------------------------ |</span><br><span class="line">| `$n`         | n为数字，`$0`代表命令本身（执行的是什么命令，`$0`就是什么），`$1`~`$9`代表第1到第9个参数，十以上的参数需要用大括号包含，如`$&#123;10&#125;` |</span><br><span class="line">| `$*`         | 这个变量代表命令行中所有的参数，`$*`把所有的参数看成一个整体· |</span><br><span class="line">| `$@`         | 这个变量也代表命令行中所有的参数，不过`$@`把每个参数区分对待 |</span><br><span class="line">| `$#`         | 这个变量代表命令行中所有参数的个数                           |</span><br><span class="line"></span><br><span class="line">**求两个数的和**</span><br><span class="line"></span><br><span class="line">```shell</span><br><span class="line">#!/bin/bash</span><br><span class="line"></span><br><span class="line">num1=$1</span><br><span class="line">num2=$2</span><br><span class="line"></span><br><span class="line">sum=$(($num1+$num2))</span><br><span class="line">echo -e &quot;\e[1;32m $sum \e[0m&quot;</span><br></pre></td></tr></table></figure></blockquote>
</li>
</ul>
</li>
</ul>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line">yu@PC:~/bin$ cat ./test1.sh </span><br><span class="line"><span class="meta">#</span><span class="language-bash">!/bin/bash</span></span><br><span class="line"></span><br><span class="line">echo &quot;A total of $# parameters&quot;</span><br><span class="line"></span><br><span class="line">echo &quot;The parameters are : $*&quot;</span><br><span class="line"></span><br><span class="line">echo &quot;The parameters are : $@&quot;</span><br><span class="line">yu@PC:~/bin$ test1.sh 1 2 3 4 5 6</span><br><span class="line">A total of 6 parameters</span><br><span class="line">The parameters are : 1 2 3 4 5 6</span><br><span class="line">The parameters are : 1 2 3 4 5 6</span><br><span class="line"></span><br></pre></td></tr></table></figure>

<p><code>$* 与 $@</code>的区别</p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line">for i in &quot;$*&quot;</span><br><span class="line">	do</span><br><span class="line">		echo &quot;The parameter is: $i&quot;</span><br><span class="line">	done</span><br><span class="line">x=1</span><br><span class="line">for y in &quot;$@&quot;</span><br><span class="line">	do</span><br><span class="line">		echo &quot;The parameter$x is : $y&quot;</span><br><span class="line">		x=$(($x + 1))</span><br><span class="line">	done</span><br><span class="line"></span><br></pre></td></tr></table></figure>



<h3 id="预定义变量"><a href="#预定义变量" class="headerlink" title="预定义变量"></a>预定义变量</h3><table>
<thead>
<tr>
<th>预定义变量</th>
<th>作用</th>
</tr>
</thead>
<tbody><tr>
<td><code>$?</code></td>
<td>最后一次执行的命令的返回状态。如果这个变量的值为0，证明上一个命令正确执行；如果这个变量的值非0（具体是哪个数，由命令自己来决定），则证明上一个命令执行不正确了<br />举个具体的例子：<br /><code>命令1&amp;&amp;命令2</code>或者`命令1</td>
</tr>
<tr>
<td><code>$$</code></td>
<td>当前进程的进程号（PID）</td>
</tr>
<tr>
<td><code>$!</code></td>
<td>后台运行的最后一个进程的PID</td>
</tr>
</tbody></table>
<h3 id="接收键盘输入"><a href="#接收键盘输入" class="headerlink" title="接收键盘输入"></a>接收键盘输入</h3><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">yu@PC:~$ read [选项] [变量名]</span><br><span class="line">选项：</span><br><span class="line">	-p &quot;提示信息&quot;		在等待read输入时，输出提示信息</span><br><span class="line">	-t 秒数			 read命令会一直等待用户输入，使用此选项可以指定等待时间</span><br><span class="line">	-n 字符数			read命令只要接受指定的字符数，就会执行（不用等待回车）</span><br><span class="line">	-s				  隐藏输入的数据，适用于机密信息的输入</span><br></pre></td></tr></table></figure>



<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br></pre></td><td class="code"><pre><span class="line">yu@PC:~/bin$ cat ./readDemo.sh </span><br><span class="line"><span class="meta">#</span><span class="language-bash">!/bin/bash</span></span><br><span class="line"><span class="meta"># </span><span class="language-bash">提示“请输入姓名”并等待30s，把用户的输入保存在变量name中</span></span><br><span class="line">read -t 30 -p &quot;Please input your name: &quot; name</span><br><span class="line">echo &quot;Name is $name&quot;</span><br><span class="line"><span class="meta"></span></span><br><span class="line"><span class="meta"># </span><span class="language-bash">年龄是隐私，所以我们使用 -s 选项来隐藏输入</span></span><br><span class="line">read -s -t 30 -p &quot;Please enter your age&quot; age</span><br><span class="line">echo -e &quot;\n&quot;</span><br><span class="line">echo &quot;Age is $age&quot;</span><br><span class="line"><span class="meta"></span></span><br><span class="line"><span class="meta"># </span><span class="language-bash">使用“-n 1”选项只接收输入字符就会执行，（都不用输入回车）</span></span><br><span class="line">read -n 1 -t 30 -p &quot;Please select your gender[M/F]:&quot; gender</span><br><span class="line">echo -e &quot;\n&quot;</span><br><span class="line">echo &quot;Sex is $gender&quot;</span><br><span class="line"></span><br><span class="line">yu@PC:~/bin$ vim readDemo.sh</span><br><span class="line">yu@PC:~/bin$ chmod 755 ./readDemo.sh </span><br><span class="line">yu@PC:~/bin$ readDemo.sh </span><br><span class="line">Please input your name: luyu</span><br><span class="line">Name is luyu</span><br><span class="line">Please enter your age</span><br><span class="line"></span><br><span class="line">Age is 12</span><br><span class="line">Please select your gender[M/F]:M</span><br><span class="line"></span><br><span class="line">Sex is M</span><br></pre></td></tr></table></figure>





<h2 id="数值运算与运算符"><a href="#数值运算与运算符" class="headerlink" title="数值运算与运算符"></a>数值运算与运算符</h2><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">aa=11</span><br><span class="line">bb=22</span><br><span class="line">cc=$aa+$22</span><br><span class="line">echo $cc</span><br><span class="line"></span><br><span class="line">输出： 11+22</span><br><span class="line">原因： shell变量的默认类型全部为 字符串 类型</span><br></pre></td></tr></table></figure>

<h3 id="数值运算"><a href="#数值运算" class="headerlink" title="数值运算"></a>数值运算</h3><h4 id="declare-声明变量类型"><a href="#declare-声明变量类型" class="headerlink" title="declare 声明变量类型"></a>declare 声明变量类型</h4><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">declare [+/-][选项] 变量名</span><br><span class="line">选项：</span><br><span class="line">	-			给变量设定类型属性</span><br><span class="line">	+			取消变量的类型属性</span><br><span class="line">	-i			将变量声明为正数型（integer）</span><br><span class="line">	-x			将变量声明为环境变量</span><br><span class="line">	-p			显示执行变量的被声明的类型</span><br></pre></td></tr></table></figure>

<h4 id="方法1：declare声明类型"><a href="#方法1：declare声明类型" class="headerlink" title="方法1：declare声明类型"></a>方法1：declare声明类型</h4><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">aa=11</span><br><span class="line">bb=22</span><br><span class="line">declare -i cc=$aa+$bb</span><br></pre></td></tr></table></figure>

<h4 id="方法2：expr或let数值运算工具"><a href="#方法2：expr或let数值运算工具" class="headerlink" title="方法2：expr或let数值运算工具"></a>方法2：expr或let数值运算工具</h4><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">aa=11</span><br><span class="line">bb=22</span><br><span class="line">dd=$(expr $aa + $bb)  # 注意，这里面加号左右必须有空格</span><br><span class="line">echo $dd</span><br><span class="line">33</span><br></pre></td></tr></table></figure>

<h4 id="方法3：-运算式-或-运算式-推荐"><a href="#方法3：-运算式-或-运算式-推荐" class="headerlink" title="方法3：$((运算式)) 或 $[运算式]   (推荐)"></a>方法3：$((运算式)) 或 $[运算式]   (推荐)</h4><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">aa=11</span><br><span class="line">bb=22</span><br><span class="line">ff=$(($aa+$bb))</span><br><span class="line">gg=$[$aa+$bb]</span><br></pre></td></tr></table></figure>



<h3 id="运算符"><a href="#运算符" class="headerlink" title="运算符"></a>运算符</h3><table>
<thead>
<tr>
<th>优先级</th>
<th>运算符</th>
<th>说明</th>
</tr>
</thead>
<tbody><tr>
<td>13</td>
<td><code>-, +</code></td>
<td>单目负， 单目正</td>
</tr>
<tr>
<td>12</td>
<td><code>!, ~</code></td>
<td>逻辑非，按位取反或补码</td>
</tr>
<tr>
<td>11</td>
<td><code>*, /, %</code></td>
<td>乘、除、取模</td>
</tr>
<tr>
<td>10</td>
<td><code>+, -</code></td>
<td>加、减</td>
</tr>
<tr>
<td>9</td>
<td><code>&lt;&lt; , &gt;&gt;</code></td>
<td>按位左移、按位右移</td>
</tr>
<tr>
<td>8</td>
<td><code>&lt;=, &gt;= &lt; &gt;</code></td>
<td>小于或等于，大于或等于，小于，大于</td>
</tr>
<tr>
<td>7</td>
<td><code>==, !=</code></td>
<td>等于，不等于</td>
</tr>
<tr>
<td>6</td>
<td><code>&amp;</code></td>
<td>按位与</td>
</tr>
<tr>
<td>5</td>
<td><code>^</code></td>
<td>按位异或</td>
</tr>
<tr>
<td>4</td>
<td>`</td>
<td>`</td>
</tr>
<tr>
<td>3</td>
<td><code>&amp;&amp;</code></td>
<td>逻辑与</td>
</tr>
<tr>
<td>2</td>
<td>`</td>
<td></td>
</tr>
<tr>
<td>1</td>
<td>`=, +=, -=, *=, /=,%=, &amp;=, ^=,</td>
<td>=, &lt;&lt;=, &gt;&gt;=`</td>
</tr>
</tbody></table>
<h3 id="变量测试-与-内容替换"><a href="#变量测试-与-内容替换" class="headerlink" title="变量测试 与 内容替换"></a>变量测试 与 内容替换</h3><table>
<thead>
<tr>
<th>变量置换方式</th>
<th>变量y没有设置</th>
<th>变量y为空值</th>
<th>变量y设置值</th>
</tr>
</thead>
<tbody><tr>
<td>x=${y-新值}</td>
<td>x= 新值</td>
<td>x 为空（<code>x=&quot;&quot; # &quot;&quot;为空值</code>）</td>
<td>x=$y</td>
</tr>
<tr>
<td>x=${y:-新值}</td>
<td>x= 新值</td>
<td>x= 新值</td>
<td>x=$y</td>
</tr>
<tr>
<td>x=${y+新值}</td>
<td>x 为空</td>
<td>x= 新值</td>
<td>x=新值</td>
</tr>
<tr>
<td>x=${y:+新值}</td>
<td>x 为空</td>
<td>x 为空</td>
<td>x=新值</td>
</tr>
<tr>
<td>x=${y=新值}</td>
<td>x= 新值</td>
<td>x 为空</td>
<td>x=$y</td>
</tr>
<tr>
<td>y= 新值</td>
<td>y 值不变</td>
<td>y值不变</td>
<td></td>
</tr>
<tr>
<td>x=${y:=新值}</td>
<td>x= 新值</td>
<td>X= 新值</td>
<td>x=$y</td>
</tr>
<tr>
<td>y= 新值</td>
<td>y= 新值</td>
<td>y值不变</td>
<td></td>
</tr>
<tr>
<td>x=${y?新值}</td>
<td>新值输出到标准错误输出（屏幕）</td>
<td>x 为空</td>
<td>x=$y</td>
</tr>
<tr>
<td>x=${y:?新值}</td>
<td>新值输出到标准错误输出</td>
<td>新值输出到标准错误输出</td>
<td>x=$y</td>
</tr>
</tbody></table>
<h2 id="环境变量配置文件"><a href="#环境变量配置文件" class="headerlink" title="环境变量配置文件"></a>环境变量配置文件</h2><h3 id="bulb-source-命令"><a href="#bulb-source-命令" class="headerlink" title=":bulb:source 命令"></a>:bulb:source 命令</h3><p><code> source 配置文件</code></p>
<p><code>. 配置文件</code> 和<code>source 配置文件</code>作用一致。</p>
<h3 id="环境变量配置文件简介"><a href="#环境变量配置文件简介" class="headerlink" title="环境变量配置文件简介"></a>环境变量配置文件简介</h3><blockquote>
<p>环境变量配置文件中主要是定义对系统的操作环境生效的系统默认环境变量，比如：<code>PATH</code>,<code>HISTSIZE</code>,<code>PS1</code>,<code>HOSTNAME</code>等默认环境变量</p>
</blockquote>
<ul>
<li><code>/etc/profile</code></li>
<li><code>/etc/profile.d/*.sh</code></li>
<li><code>/etc/bashrc</code></li>
</ul>
<p><font color=green>上述三个<code>etc</code>目录下的三个配置文件对所有登录linux系统的用户全都生效</font></p>
<ul>
<li><code>~/.bash_profile</code></li>
<li><code>~/.bashrc</code></li>
</ul>
<p>上述两个文件，只对当前登录用户生效</p>
<p><strong>配置文件的调用顺序</strong></p>
<p><img src="source/shell%E5%AD%A6%E4%B9%A0/%E7%8E%AF%E5%A2%83%E5%8F%98%E9%87%8F%E6%96%87%E4%BB%B6%E8%B0%83%E7%94%A8%E9%A1%BA%E5%BA%8F-1639209622414.png" alt="环境变量文件调用顺序"></p>
<h3 id="环境变量配置文件作用"><a href="#环境变量配置文件作用" class="headerlink" title="环境变量配置文件作用"></a>环境变量配置文件作用</h3><h4 id="butterfly-etc-profile的作用"><a href="#butterfly-etc-profile的作用" class="headerlink" title=":butterfly:/etc/profile的作用"></a>:butterfly:<code>/etc/profile</code>的作用</h4><ul>
<li>USER变量</li>
<li>LOGNAME变量</li>
<li>MAIL变量</li>
<li>PATH变量</li>
<li>HOSTNAME变量</li>
<li>HISTSIZE变量</li>
<li>umask：系统默认权限</li>
<li>调用<code>/etc/profile.d/*.sh</code></li>
</ul>
<h3 id="其他配置文件和登录信息"><a href="#其他配置文件和登录信息" class="headerlink" title="其他配置文件和登录信息"></a>其他配置文件和登录信息</h3><h4 id="注销时生效的配置文件"><a href="#注销时生效的配置文件" class="headerlink" title="注销时生效的配置文件"></a>注销时生效的配置文件</h4><p><code>~/.bash_logout</code></p>
<h4 id="历史命令保存文件"><a href="#历史命令保存文件" class="headerlink" title="历史命令保存文件"></a>历史命令保存文件</h4><p><code>~/.bash_history</code></p>
<h4 id="Shell-登录信息"><a href="#Shell-登录信息" class="headerlink" title="Shell 登录信息"></a>Shell 登录信息</h4><p><strong>本地终端欢迎信息：<code>/etc/issue</code></strong></p>
<table>
<thead>
<tr>
<th>转义符</th>
<th>作用</th>
</tr>
</thead>
<tbody><tr>
<td><code>\d</code></td>
<td>显示当前系统日期</td>
</tr>
<tr>
<td><code>\s</code></td>
<td>显示操作系统名称</td>
</tr>
<tr>
<td><code>\l</code></td>
<td>显示登录的终端号，这个比较常用</td>
</tr>
<tr>
<td><code>\m</code></td>
<td>显示硬件体系结构，如i386，i686等</td>
</tr>
<tr>
<td><code>\n</code></td>
<td>显示主机名</td>
</tr>
<tr>
<td><code>\o</code></td>
<td>显示域名</td>
</tr>
<tr>
<td><code>\r</code></td>
<td>显示内核版本</td>
</tr>
<tr>
<td><code>\t</code></td>
<td>显示当前系统时间</td>
</tr>
<tr>
<td><code>\u</code></td>
<td>显示当前登录用户的序列号</td>
</tr>
</tbody></table>
<p><strong>远程终端欢迎信息： <code>/etc/issue.net</code></strong></p>
<ul>
<li>转义符在<code>/etc/issue.net</code>文件中不能使用</li>
<li>是否显示此欢迎信息，有ssh的配置文件<code>/etc/ssh/sshd_config</code>决定，加入<code>Banner /etc/issue.net</code>行才能显示（记得重启SSH服务）</li>
</ul>
<p><strong>登录后 欢迎 信息： <code>/etc/motd</code></strong></p>
<p>不管是本地登录，还是远程登录，都可以显示此欢迎信息</p>
<h2 id="正则表达式"><a href="#正则表达式" class="headerlink" title="正则表达式"></a>正则表达式</h2><ul>
<li>正则表达式用来在文件中匹配符合条件的字符串，正则是<font color=blue>包含匹配</font>。<code>grep, awk, sed</code>等命令可以支持正则表达式。</li>
<li>通配符用来匹配符合条件的文件名，通配符是<font color=blue>完全匹配</font>。<code>ls, find, cp</code>这些命令不支持正则表达式，所以只能使用Shell自己的通配符来进行匹配了。</li>
</ul>
<table>
<thead>
<tr>
<th align="center">字符</th>
<th>描述</th>
</tr>
</thead>
<tbody><tr>
<td align="center"><code>\</code></td>
<td>转义符，将特殊字符无效，仅当成普通的字符来使用</td>
</tr>
<tr>
<td align="center"><code>^</code></td>
<td>匹配输入字符串的开始位置。如果设置了RegExp对象的Multiline属性，^也匹配“\n”或“\r”之后的位置。</td>
</tr>
<tr>
<td align="center"><code>$</code></td>
<td>匹配输入字符串的结束位置。如果设置了RegExp对象的Multiline属性，$也匹配“\n”或“\r”之前的位置。</td>
</tr>
<tr>
<td align="center"><code>*</code></td>
<td>匹配前面的子表达式零次或多次。例如，zo<em>能匹配“z”以及“zoo”。</em>等价于{0,}。</td>
</tr>
<tr>
<td align="center"><code>+</code></td>
<td>匹配前面的子表达式一次或多次。例如，“zo+”能匹配“zo”以及“zoo”，但不能匹配“z”。+等价于{1,}。</td>
</tr>
<tr>
<td align="center"><code>?</code></td>
<td>匹配前面的子表达式零次或一次。例如，“do(es)?”可以匹配“do”或“does”中的“do”。?等价于{0,1}。</td>
</tr>
<tr>
<td align="center"><code>&#123;n&#125;</code></td>
<td><em>n</em> 是一个非负整数。匹配确定的<em>n</em> 次。例如，“o{2}”不能匹配“Bob”中的“o”，但是能匹配“food”中的两个o。</td>
</tr>
<tr>
<td align="center"><code>&#123;n,&#125;</code></td>
<td><em>n</em> 是一个非负整数。至少匹配<em>n</em> 次。例如，“o{2,}”不能匹配“Bob”中的“o”，但能匹配“foooood”中的所有o。“o{1,}”等价于“o+”。“o{0,}”则等价于“o*”。</td>
</tr>
<tr>
<td align="center"><code>&#123;n,m&#125;</code></td>
<td><em>m</em> 和<em>n</em> 均为非负整数，其中<em>n</em> &lt;=<em>m</em> 。最少匹配<em>n</em> 次且最多匹配<em>m</em> 次。例如，“o{1,3}”将匹配“fooooood”中的前三个o。“o{0,1}”等价于“o?”。请注意在逗号和两个数之间不能有空格。</td>
</tr>
<tr>
<td align="center"><code>?</code></td>
<td>当该字符紧跟在任何一个其他限制符(*,+,?,{<em>n</em> },{<em>n</em> ,},{<em>n</em> ,<em>m</em> })后面时，匹配模式是非贪婪的。非贪婪模式尽可能少的匹配所搜索的字符串，而默认的贪婪模式则尽可能多的匹配所搜索的字符串。例如，对于字符串“oooo”，“o+?”将匹配单个“o”，而“o+”将匹配所有“o”。</td>
</tr>
<tr>
<td align="center"><code>.</code></td>
<td>匹配除“*n* ”之外的任何单个字符。要匹配包括“*n* ”在内的任何字符，请使用像“[.*n* ]”的模式。</td>
</tr>
<tr>
<td align="center"><code>(pattern)</code></td>
<td>匹配pattern并获取这一匹配。所获取的匹配可以从产生的Matches集合得到，在VBScript中使用SubMatches集合，在JScript中则使用$0…$9属性。要匹配圆括号字符，请使用“(”或“)”。</td>
</tr>
<tr>
<td align="center"><code>(?:pattern)</code></td>
<td>匹配pattern但不获取匹配结果，也就是说这是一个非获取匹配，不进行存储供以后使用。这在使用“或”字符(|)来组合一个模式的各个部分是很有用。例如，“industr(?:y|ies)就是一个比”industry|industries’更简略的表达式。</td>
</tr>
<tr>
<td align="center"><code>(?=pattern)</code></td>
<td>正向预查，在任何匹配pattern的字符串开始处匹配查找字符串。这是一个非获取匹配，也就是说，该匹配不需要获取供以后使用。例如，“Windows(?=95|98|NT|2000)”能匹配“Windows2000”中的“Windows”，但不能匹配 “Windows3.1”中的“Windows”。预查不消耗字符，也就是说，在一个匹配发生后，在最后一次匹配之后立即开始下一次匹配的搜索，而不是从包含预查的字符之后开始。</td>
</tr>
<tr>
<td align="center"><code>(?!pattern)</code></td>
<td>负向预查，在任何不匹配pattern的字符串开始处匹配查找字符串。这是一个非获取匹配，也就是说，该匹配不需要获取供以后使用。例如 “Windows(?!95|98|NT|2000)”能匹配“Windows3.1”中的“Windows”，但不能匹配“Windows2000”中的“Windows”。预查不消耗字符，也就是说，在一个匹配发生后，在最后一次匹配之后立即开始下一次匹配的搜索，而不是从包含预查的字符之后开始</td>
</tr>
<tr>
<td align="center">`x</td>
<td>y`</td>
</tr>
<tr>
<td align="center"><code>[xyz]</code></td>
<td>字符集合。匹配所包含的任意一个字符。例如，“[abc]”可以匹配“plain”中的“a”。</td>
</tr>
<tr>
<td align="center"><code>[^xyz]</code></td>
<td>负值字符集合。匹配未包含的任意字符。例如，“[^abc]”可以匹配“plain”中的“p”。</td>
</tr>
<tr>
<td align="center"><code>[a-z]</code></td>
<td>字符范围。匹配指定范围内的任意字符。例如，“[a-z]”可以匹配“a”到“z”范围内的任意小写字母字符。</td>
</tr>
<tr>
<td align="center"><code>[^a-z]</code></td>
<td>负值字符范围。匹配任何不在指定范围内的任意字符。例如，“[^a-z]”可以匹配任何不在“a”到“z”范围内的任意字符。</td>
</tr>
<tr>
<td align="center"><code>\b</code></td>
<td>匹配一个单词边界，也就是指单词和空格间的位置。例如，“er\b”可以匹配“never”中的“er”，但不能匹配“verb”中的“er”。</td>
</tr>
<tr>
<td align="center"><code>\B</code></td>
<td>匹配非单词边界。“er\B”能匹配“verb”中的“er”，但不能匹配“never”中的“er”。</td>
</tr>
<tr>
<td align="center"><code>\cx</code></td>
<td>匹配由x指明的控制字符。例如，\cM匹配一个Control-M或回车符。x的值必须为A-Z或a-z之一。否则，将c视为一个原义的“c”字符。</td>
</tr>
<tr>
<td align="center"><code>\d</code></td>
<td>匹配一个数字字符。等价于[0-9]。</td>
</tr>
<tr>
<td align="center"><code>\D</code></td>
<td>匹配一个非数字字符。等价于[^0-9]。</td>
</tr>
<tr>
<td align="center"><code>\f</code></td>
<td>匹配一个换页符。等价于\x0c和\cL。</td>
</tr>
<tr>
<td align="center"><code>\n</code></td>
<td>匹配一个换行符。等价于\x0a和\cJ。</td>
</tr>
<tr>
<td align="center"><code>\r</code></td>
<td>匹配一个回车符。等价于\x0d和\cM。</td>
</tr>
<tr>
<td align="center"><code>\s</code></td>
<td>匹配任何空白字符，包括空格、制表符、换页符等等。等价于[\f\n\r\t\v]。</td>
</tr>
<tr>
<td align="center"><code>\S</code></td>
<td>匹配任何非空白字符。等价于[^\f\n\r\t\v]。</td>
</tr>
<tr>
<td align="center"><code>\t</code></td>
<td>匹配一个制表符。等价于\x09和\cI。</td>
</tr>
<tr>
<td align="center"><code>\v</code></td>
<td>匹配一个垂直制表符。等价于\x0b和\cK。</td>
</tr>
<tr>
<td align="center"><code>\w</code></td>
<td>匹配包括下划线的任何单词字符。等价于“[A-Za-z0-9_]”。</td>
</tr>
<tr>
<td align="center"><code>\W</code></td>
<td>匹配任何非单词字符。等价于“[^A-Za-z0-9_]”。</td>
</tr>
<tr>
<td align="center"><code>\xn</code></td>
<td>匹配<em>n</em> ，其中<em>n</em> 为十六进制转义值。十六进制转义值必须为确定的两个数字长。例如，“\x41”匹配“A”。“\x041”则等价于“\x04”&amp;“1”。正则表达式中可以使用ASCII编码。.</td>
</tr>
<tr>
<td align="center"><code>\num</code></td>
<td>匹配<em>num</em> ，其中<em>num</em> 是一个正整数。对所获取的匹配的引用。例如，“(.)\1”匹配两个连续的相同字符。</td>
</tr>
<tr>
<td align="center"><code>n</code></td>
<td>标识一个八进制转义值或一个向后引用。如果*n* 之前至少<em>n</em> 个获取的子表达式，则<em>n</em> 为向后引用。否则，如果<em>n</em> 为八进制数字(0-7)，则<em>n</em> 为一个八进制转义值。</td>
</tr>
<tr>
<td align="center"><code>\nm</code></td>
<td>标识一个八进制转义值或一个向后引用。如果*nm* 之前至少有<em>nm</em> 个获得子表达式，则<em>nm</em> 为向后引用。如果*nm* 之前至少有<em>n</em> 个获取，则<em>n</em> 为一个后跟文字<em>m</em> 的向后引用。如果前面的条件都不满足，若<em>n</em> 和<em>m</em> 均为八进制数字(0-7)，则*nm* 将匹配八进制转义值<em>nm</em> 。</td>
</tr>
<tr>
<td align="center"><code>\nml</code></td>
<td>如果<em>n</em> 为八进制数字(0-3)，且<em>m和l</em> 均为八进制数字(0-7)，则匹配八进制转义值<em>nm</em> l。</td>
</tr>
<tr>
<td align="center"><code>\un</code></td>
<td>匹配<em>n</em> ，其中<em>n</em> 是一个用四个十六进制数字表示的Unicode字符。例如，\u00A9匹配版权符号（©）。</td>
</tr>
</tbody></table>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><span class="line">grep &quot;a*&quot; file		# 没有任何意义，匹配所有内容，包括空白行</span><br><span class="line">grep &quot;aa*&quot; file		# 匹配至少包含一个a的行</span><br><span class="line">grep &quot;aaa*&quot; file	# 匹配最少包含两个连续a的字符串</span><br><span class="line"></span><br><span class="line">grep &quot;s..d&quot; test.txt			# 匹配在s和d这两个字母之间一定有两个字符的单词</span><br><span class="line">grep &quot;s.*d&quot; test.txt			# 匹配在s和d之间有任意字符</span><br><span class="line">grep &quot;.*&quot;	text.txt			# 匹配所有内容</span><br><span class="line"></span><br><span class="line">grep &quot;^M&quot; text.txt				# 匹配以大写M开头的行</span><br><span class="line">grep &quot;n$&quot; text.txt				# 匹配以小写n结尾的行</span><br><span class="line">grep -n &quot;^$&quot; text.txt			# 会匹配空白行  (-n选项是为了输出具体的行号)</span><br><span class="line"></span><br><span class="line">grep &quot;s[ao]id&quot; text.txt			# 匹配s和i字母中，要么是a，要么是o</span><br><span class="line">grep &quot;[0-9]&quot; text.txt			# 匹配任意一个数字</span><br><span class="line">grep &quot;^[a-z]&quot; text.txt			# 匹配用小写字母开头的行</span><br><span class="line"></span><br><span class="line">grep &quot;\.$&quot; text.txt				# 匹配以. 结尾的行</span><br><span class="line"></span><br><span class="line">grep &quot;a\&#123;3\&#125;&quot; text.txt			# 匹配a字母连续出现三次的字符串</span><br><span class="line">grep &quot;[0-9]\&#123;3\&#125;&quot; text.txt		# 匹配包含连续的三个数字的字符串</span><br></pre></td></tr></table></figure>





<h2 id="字符截取命令"><a href="#字符截取命令" class="headerlink" title="字符截取命令"></a>字符截取命令</h2><p>grep是提取文本中的行，而cut和awk是提取文本中的列。</p>
<h3 id="black-heart-cut-字段提取命令"><a href="#black-heart-cut-字段提取命令" class="headerlink" title=":black_heart:cut 字段提取命令"></a>:black_heart:<code>cut</code> 字段提取命令</h3><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br></pre></td><td class="code"><pre><span class="line">cut [选项] 文件名</span><br><span class="line">选项：</span><br><span class="line">	-f	列号:			提取第几列</span><br><span class="line">	-d  分隔符：	   按照指定分隔符分割列</span><br><span class="line">yu@PC:~/Files$ cat student.txt </span><br><span class="line">ID Name gender Mark</span><br><span class="line">1 Liming M 86</span><br><span class="line">2 Sc M 90</span><br><span class="line">3 Gao F 83</span><br><span class="line">yu@PC:~/Files$ cut -d&#x27; &#x27; -f 2 student.txt </span><br><span class="line">Name</span><br><span class="line">Liming</span><br><span class="line">Sc</span><br><span class="line">Gao</span><br><span class="line">yu@PC:~/Files$ </span><br><span class="line">yu@PC:~/Files$ cut -d&#x27; &#x27; -f 0 student.txt </span><br><span class="line">cut: fields are numbered from 1</span><br><span class="line"><span class="meta"># </span><span class="language-bash">上述命令说明，<span class="built_in">cut</span>截取的列号 起始是从1开始的</span></span><br><span class="line">yu@PC:~/Files$ cut -d&#x27; &#x27; -f 2,3 student.txt  # 列号可以指定多列</span><br><span class="line">Name gender</span><br><span class="line">Liming M</span><br><span class="line">Sc M</span><br><span class="line">Gao F</span><br><span class="line">yu@PC:~/Files$ cut -d&#x27; &#x27; -f 2-4 student.txt # 列号可以指定连续的列</span><br><span class="line">Name gender Mark</span><br><span class="line">Liming M 86</span><br><span class="line">Sc M 90</span><br><span class="line">Gao F 83</span><br><span class="line">yu@PC:~/Files$ </span><br></pre></td></tr></table></figure>

<p>实际的例子：</p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta"># </span><span class="language-bash">假设之前批量添加了一批用户，现在需要找出这些批量添加的用户名都有哪些</span></span><br><span class="line">root@PC:/home/yu/Files# useradd user1</span><br><span class="line">root@PC:/home/yu/Files# useradd user2</span><br><span class="line">root@PC:/home/yu/Files# useradd user3</span><br><span class="line">root@PC:/home/yu/Files# cat /etc/passwd</span><br><span class="line">root:x:0:0:root:/root:/bin/bash</span><br><span class="line">daemon:x:1:1:daemon:/usr/sbin:/usr/sbin/nologin</span><br><span class="line">bin:x:2:2:bin:/bin:/usr/sbin/nologin</span><br><span class="line">sys:x:3:3:sys:/dev:/usr/sbin/nologin</span><br><span class="line">sync:x:4:65534:sync:/bin:/bin/sync</span><br><span class="line">games:x:5:60:games:/usr/games:/usr/sbin/nologin</span><br><span class="line">man:x:6:12:man:/var/cache/man:/usr/sbin/nologin</span><br><span class="line">lp:x:7:7:lp:/var/spool/lpd:/usr/sbin/nologin</span><br><span class="line">mail:x:8:8:mail:/var/mail:/usr/sbin/nologin</span><br><span class="line">news:x:9:9:news:/var/spool/news:/usr/sbin/nologin</span><br><span class="line">uucp:x:10:10:uucp:/var/spool/uucp:/usr/sbin/nologin</span><br><span class="line">proxy:x:13:13:proxy:/bin:/usr/sbin/nologin</span><br><span class="line">www-data:x:33:33:www-data:/var/www:/usr/sbin/nologin</span><br><span class="line">backup:x:34:34:backup:/var/backups:/usr/sbin/nologin</span><br><span class="line">list:x:38:38:Mailing List Manager:/var/list:/usr/sbin/nologin</span><br><span class="line">irc:x:39:39:ircd:/var/run/ircd:/usr/sbin/nologin</span><br><span class="line">gnats:x:41:41:Gnats Bug-Reporting System (admin):/var/lib/gnats:/usr/sbin/nologin</span><br><span class="line">nobody:x:65534:65534:nobody:/nonexistent:/usr/sbin/nologin</span><br><span class="line">systemd-network:x:100:102:systemd Network Management,,,:/run/systemd:/usr/sbin/nologin</span><br><span class="line">systemd-resolve:x:101:103:systemd Resolver,,,:/run/systemd:/usr/sbin/nologin</span><br><span class="line">systemd-timesync:x:102:104:systemd Time Synchronization,,,:/run/systemd:/usr/sbin/nologin</span><br><span class="line">messagebus:x:103:106::/nonexistent:/usr/sbin/nologin</span><br><span class="line">syslog:x:104:110::/home/syslog:/usr/sbin/nologin</span><br><span class="line">_apt:x:105:65534::/nonexistent:/usr/sbin/nologin</span><br><span class="line">tss:x:106:111:TPM software stack,,,:/var/lib/tpm:/bin/false</span><br><span class="line">uuidd:x:107:114::/run/uuidd:/usr/sbin/nologin</span><br><span class="line">tcpdump:x:108:115::/nonexistent:/usr/sbin/nologin</span><br><span class="line">avahi-autoipd:x:109:116:Avahi autoip daemon,,,:/var/lib/avahi-autoipd:/usr/sbin/nologin</span><br><span class="line">usbmux:x:110:46:usbmux daemon,,,:/var/lib/usbmux:/usr/sbin/nologin</span><br><span class="line">rtkit:x:111:117:RealtimeKit,,,:/proc:/usr/sbin/nologin</span><br><span class="line">dnsmasq:x:112:65534:dnsmasq,,,:/var/lib/misc:/usr/sbin/nologin</span><br><span class="line">cups-pk-helper:x:113:120:user for cups-pk-helper service,,,:/home/cups-pk-helper:/usr/sbin/nologin</span><br><span class="line">speech-dispatcher:x:114:29:Speech Dispatcher,,,:/run/speech-dispatcher:/bin/false</span><br><span class="line">avahi:x:115:121:Avahi mDNS daemon,,,:/var/run/avahi-daemon:/usr/sbin/nologin</span><br><span class="line">kernoops:x:116:65534:Kernel Oops Tracking Daemon,,,:/:/usr/sbin/nologin</span><br><span class="line">saned:x:117:123::/var/lib/saned:/usr/sbin/nologin</span><br><span class="line">nm-openvpn:x:118:124:NetworkManager OpenVPN,,,:/var/lib/openvpn/chroot:/usr/sbin/nologin</span><br><span class="line">hplip:x:119:7:HPLIP system user,,,:/run/hplip:/bin/false</span><br><span class="line">whoopsie:x:120:125::/nonexistent:/bin/false</span><br><span class="line">colord:x:121:126:colord colour management daemon,,,:/var/lib/colord:/usr/sbin/nologin</span><br><span class="line">geoclue:x:122:127::/var/lib/geoclue:/usr/sbin/nologin</span><br><span class="line">pulse:x:123:128:PulseAudio daemon,,,:/var/run/pulse:/usr/sbin/nologin</span><br><span class="line">gnome-initial-setup:x:124:65534::/run/gnome-initial-setup/:/bin/false</span><br><span class="line">gdm:x:125:130:Gnome Display Manager:/var/lib/gdm3:/bin/false</span><br><span class="line">yu:x:1000:1000:YU,,,:/home/yu:/bin/bash</span><br><span class="line">systemd-coredump:x:999:999:systemd Core Dumper:/:/usr/sbin/nologin</span><br><span class="line">sshd:x:126:65534::/run/sshd:/usr/sbin/nologin</span><br><span class="line">user1:x:1001:1001:,,,:/home/user1:/bin/bash</span><br><span class="line">user2:x:1002:1002:,,,:/home/user2:/bin/bash</span><br><span class="line">user3:x:1003:1003:,,,:/home/user3:/bin/bash</span><br><span class="line"><span class="meta"></span></span><br><span class="line"><span class="meta"># </span><span class="language-bash">开始筛选出批量添加的用户名</span></span><br><span class="line">root@PC:/home/yu/Files# grep &quot;/bin/bash&quot; /etc/passwd</span><br><span class="line">root:x:0:0:root:/root:/bin/bash</span><br><span class="line">yu:x:1000:1000:YU,,,:/home/yu:/bin/bash</span><br><span class="line">user1:x:1001:1001:,,,:/home/user1:/bin/bash</span><br><span class="line">user2:x:1002:1002:,,,:/home/user2:/bin/bash</span><br><span class="line">user3:x:1003:1003:,,,:/home/user3:/bin/bash</span><br><span class="line">root@PC:/home/yu/Files# grep &quot;/bin/bash&quot; /etc/passwd | grep -v &quot;root&quot;  #去掉包含root的行</span><br><span class="line">yu:x:1000:1000:YU,,,:/home/yu:/bin/bash</span><br><span class="line">user1:x:1001:1001:,,,:/home/user1:/bin/bash</span><br><span class="line">user2:x:1002:1002:,,,:/home/user2:/bin/bash</span><br><span class="line">user3:x:1003:1003:,,,:/home/user3:/bin/bash</span><br><span class="line">root@PC:/home/yu/Files# grep &quot;/bin/bash&quot; /etc/passwd | grep -v &quot;root&quot; | cut -d &#x27;:&#x27; -f 1</span><br><span class="line">yu</span><br><span class="line">user1</span><br><span class="line">user2</span><br><span class="line">user3</span><br><span class="line"><span class="meta"># </span><span class="language-bash"><span class="built_in">cut</span>命令 指定分隔符:, 提取第一列用户名的行</span></span><br></pre></td></tr></table></figure>

<p><strong><code>cut</code>命令的局限性</strong></p>
<p><code>df -h | cut -d &quot; &quot; -f 1,3</code></p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br></pre></td><td class="code"><pre><span class="line">root@PC:/home/yu/Files# df -h</span><br><span class="line">文件系统        容量  已用  可用 已用% 挂载点</span><br><span class="line">udev            3.9G     0  3.9G    0% /dev</span><br><span class="line">tmpfs           794M  1.8M  792M    1% /run</span><br><span class="line">/dev/sda5        49G  7.8G   39G   17% /</span><br><span class="line">tmpfs           3.9G     0  3.9G    0% /dev/shm</span><br><span class="line">tmpfs           5.0M  4.0K  5.0M    1% /run/lock</span><br><span class="line">tmpfs           3.9G     0  3.9G    0% /sys/fs/cgroup</span><br><span class="line">/dev/loop0      128K  128K     0  100% /snap/bare/5</span><br><span class="line">/dev/loop1       55M   55M     0  100% /snap/core18/1705</span><br><span class="line">/dev/loop2       56M   56M     0  100% /snap/core18/2253</span><br><span class="line">/dev/loop4       63M   63M     0  100% /snap/gtk-common-themes/1506</span><br><span class="line">/dev/loop3      241M  241M     0  100% /snap/gnome-3-34-1804/24</span><br><span class="line">/dev/loop5       62M   62M     0  100% /snap/core20/1270</span><br><span class="line">/dev/loop7       66M   66M     0  100% /snap/gtk-common-themes/1519</span><br><span class="line">/dev/loop6      219M  219M     0  100% /snap/gnome-3-34-1804/77</span><br><span class="line">/dev/loop9       43M   43M     0  100% /snap/snapd/14066</span><br><span class="line">/dev/loop8       50M   50M     0  100% /snap/snap-store/433</span><br><span class="line">/dev/loop10      44M   44M     0  100% /snap/snapd/14295</span><br><span class="line">/dev/loop11      55M   55M     0  100% /snap/snap-store/558</span><br><span class="line">/dev/sda1       511M  4.0K  511M    1% /boot/efi</span><br><span class="line">tmpfs           794M   24K  794M    1% /run/user/125</span><br><span class="line">tmpfs           794M  4.0K  794M    1% /run/user/1000</span><br><span class="line">root@PC:/home/yu/Files# df -h | grep sda5 | cut -d &quot; &quot; -f 5 </span><br><span class="line"><span class="meta"># </span><span class="language-bash">这里就有一个问题，<span class="built_in">cut</span>命令是一个忠实的执行者， 分隔符如果是空格， 那么-d后面指定几个空格，就会按照几个空格来进行分割，但是有的分割不一定是固定数量的空格，就此<span class="built_in">cut</span>命令有一定的局限性</span></span><br></pre></td></tr></table></figure>



<h3 id="black-heart-printf-命令"><a href="#black-heart-printf-命令" class="headerlink" title=":black_heart:printf 命令"></a>:black_heart:<code>printf</code> 命令</h3><p>学习awk命令的前提，<code>printf</code>命令会格式化输出。</p>
<blockquote>
<p><code>printf &#39;输出类型输出格式&#39; 输出内容</code></p>
<p>输出类型：</p>
<ul>
<li><code>%ns</code>    : 输出字符串。n是数字指代输出几个字符</li>
<li><code>%ni</code> : 输出整数。n是数字指代输出几个数字</li>
<li>``%m.nf <code>: 输出浮点数。 m和n是数字，指代输出的整数位数和小数位数。如</code>%8.2f`代表共输出8位数，其中2位是小数，6位是整数</li>
</ul>
<p>输出格式</p>
<ul>
<li><code>\a</code>：输出警告声音</li>
<li><code>\b</code>：输出退格键，也就是Backspace</li>
<li><code>\f</code>：清除屏幕</li>
<li><code>\n</code>：换行</li>
<li><code>\r</code>：回车，也就是Enter键</li>
<li><code>\t</code>：水平输出退格键，也就是Tap键</li>
<li><code>\v</code>：垂直输出退格键，也就是Tap键</li>
</ul>
</blockquote>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">root@PC:/home/yu/Files# printf &#x27;%s %s %s\n\a&#x27; 1 2 3 4 5 6 </span><br><span class="line">1 2 3</span><br><span class="line">4 5 6</span><br><span class="line"><span class="meta"># </span><span class="language-bash"><span class="built_in">printf</span> 命令也可以输出文件内容，但是需要匹配执行命令的特殊符来使用，无法配合管道来使用</span></span><br><span class="line">printf &#x27;%s&#x27; $(cat test.txt)</span><br><span class="line"><span class="meta"># </span><span class="language-bash"><span class="built_in">printf</span> 输出的内容 不像 <span class="built_in">cat</span>命令那样会进行漂亮的格式化</span></span><br></pre></td></tr></table></figure>

<p>:bell:<font color=red>那为什么还需要学习<code>printf</code>命令呢？</font></p>
<blockquote>
<p>因为awk命令中，<strong>不能</strong>直接调用系统命令<code>cat</code>，<strong>也不能</strong>直接调用系统命令<code>echo</code>，但是能调用系统命令<code>print和printf</code>命令。</p>
</blockquote>
<p>在<code>awk</code>命令中，输出支持<code>print</code>和<code>printf</code>命令</p>
<ul>
<li><code>print</code>：print会在每个输出之后自动加入一个换行符（Linux默认没有print命令，只有在awk命令中才有print）</li>
<li><code>printf</code>：printf是标准格式输出命令，并不会自动加入换行符，如果需要换行，需要手工假如换行符</li>
</ul>
<h3 id="black-heart-awk-命令"><a href="#black-heart-awk-命令" class="headerlink" title=":black_heart:awk 命令"></a>:black_heart:<code>awk</code> 命令</h3><p><code>cut</code>命令能够实现的字符串截取列，<code>awk</code>命令都可以实现，但是<code>awk</code>命令要比<code>cut</code>命令复杂的多，所以在实际使用中，<code>cut</code>命令能够实现了，就是用简单的<code>cut</code>命令来实现，<code>cut</code>命令不能实现的，就是用<code>awk</code>命令来实现。</p>
<p><a target="_blank" rel="noopener" href="https://www.cnblogs.com/baichunyu/p/15257904.html">Linux awk 命令详解 参考</a></p>
<p><strong>基础用法</strong></p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">awk [选项] &#x27;匹配条件1 &#123;脚本命令11;脚本命令12;....&#125; 匹配条件2 &#123;脚本命令21;脚本命令22;....&#125;&#x27; 文件名</span><br><span class="line">选项：</span><br><span class="line">	-F fs			# 指定以 fs 作为输入行的分隔符，awk 命令默认分隔符为空格或制表符</span><br></pre></td></tr></table></figure>

<p>另一种说法</p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">awk &#x27;条件1&#123;动作1&#125; 条件2&#123;动作2&#125; ...&#x27; 文件名</span><br><span class="line">条件（Pattern）</span><br><span class="line">	一般使用关系表达式作为条件</span><br><span class="line"><span class="meta">	x&gt;</span><span class="language-bash">10			判断变量x是否大于10</span></span><br><span class="line"><span class="meta">	x&gt;</span><span class="language-bash">=10			大于等于</span></span><br><span class="line">	x&lt;=10			小于等于</span><br><span class="line">动作（Action）</span><br><span class="line">	格式化输出</span><br><span class="line">	流程控制语句</span><br></pre></td></tr></table></figure>

<p><code>awk</code>命令会对文件中的每一行都会执行一遍<code>awk</code>命令中指定的脚本</p>
<p>简单的例子：</p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">root@PC:/home/yu/Files# awk &#x27;&#123;printf $1 &quot;\t&quot; $2 &quot;\t&quot; $6 &quot;\n&quot;&#125;&#x27; student2.txt </span><br><span class="line">ID	Name	Average</span><br><span class="line">1	Liming	87.66</span><br><span class="line">2	Sc	85.66</span><br><span class="line">3	Gao	91.66</span><br></pre></td></tr></table></figure>

<p>:right_anger_bubble:<code>$0</code> <strong>表示当前内容的一整行</strong></p>
<p>截取 <code>df -h</code></p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line">[hadoop@hadoop102 Files]$ df -h | awk &#x27;&#123;print $1 &quot;\t&quot; $2 &quot;\t&quot; $3 &quot;\t&quot; $6&#125;&#x27;</span><br><span class="line">文件系统	容量	已用	挂载点</span><br><span class="line">devtmpfs	3.8G	0	/dev</span><br><span class="line">tmpfs	3.9G	0	/dev/shm</span><br><span class="line">tmpfs	3.9G	21M	/run</span><br><span class="line">tmpfs	3.9G	0	/sys/fs/cgroup</span><br><span class="line">/dev/mapper/centos-root	46G	19G	/</span><br><span class="line">/dev/sda1	1014M	233M	/boot</span><br><span class="line">tmpfs	781M	0	/run/user/0</span><br><span class="line">tmpfs	781M	0	/run/user/1000</span><br></pre></td></tr></table></figure>

<p>:baby_chick:小需求：提取df命令显示后的磁盘已用百分比的具体值</p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line">[hadoop@hadoop102 Files]$ df -h</span><br><span class="line">文件系统                 容量  已用  可用 已用% 挂载点</span><br><span class="line">devtmpfs                 3.8G     0  3.8G    0% /dev</span><br><span class="line">tmpfs                    3.9G     0  3.9G    0% /dev/shm</span><br><span class="line">tmpfs                    3.9G   29M  3.8G    1% /run</span><br><span class="line">tmpfs                    3.9G     0  3.9G    0% /sys/fs/cgroup</span><br><span class="line">/dev/mapper/centos-root   46G   19G   27G   42% /</span><br><span class="line">/dev/sda1               1014M  233M  782M   23% /boot</span><br><span class="line">tmpfs                    781M     0  781M    0% /run/user/0</span><br><span class="line">tmpfs                    781M     0  781M    0% /run/user/1000</span><br></pre></td></tr></table></figure>

<p>例如，提取centos-root 已用的<code>23%</code>中的23</p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">[hadoop@hadoop102 Files]$ df -h | grep centos | awk &#x27;&#123;print $5&#125;&#x27; | awk -F &quot;%&quot; &#x27;&#123;print $1&#125;&#x27;</span><br><span class="line">42</span><br></pre></td></tr></table></figure>

<h4 id="BEGIN条件"><a href="#BEGIN条件" class="headerlink" title="BEGIN条件"></a>BEGIN条件</h4><p>awk中可以通过BEGIN关键字，来实现在执行后续脚本命令<strong>之前</strong>先执行一些操作，换句话说就是<strong>BEGIN</strong>后面紧接着的脚本在开始真正读取数据之前先被执行，而且不管数据内容有多少行，<strong>BEGIN</strong>后面紧跟着的命令仅执行一遍。</p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line">[hadoop@hadoop102 Files]$ df -h | awk &#x27;BEGIN&#123;print &quot;最先执行&quot;&#125; &#123;print $5&#125;&#x27;</span><br><span class="line">最先执行</span><br><span class="line">已用%</span><br><span class="line"><span class="meta">0%</span><span class="language-bash"></span></span><br><span class="line"><span class="language-bash">0%</span></span><br><span class="line"><span class="meta">1%</span><span class="language-bash"></span></span><br><span class="line"><span class="language-bash">0%</span></span><br><span class="line"><span class="meta">42%</span><span class="language-bash"></span></span><br><span class="line"><span class="language-bash">23%</span></span><br><span class="line"><span class="meta">0%</span><span class="language-bash"></span></span><br><span class="line"><span class="language-bash">0%</span></span><br></pre></td></tr></table></figure>

<p>通过<strong>BEGIN</strong>关键字设置<strong>awk</strong>的<strong>分隔符FS变量</strong></p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line">[hadoop@hadoop102 Files]$ cat /etc/passwd | awk &#x27;BEGIN&#123;FS=&quot;:&quot;&#125; &#123;print $1 &quot;\t&quot; $7&#125;&#x27;</span><br><span class="line">root	/bin/bash</span><br><span class="line">bin	/sbin/nologin</span><br><span class="line">daemon	/sbin/nologin</span><br><span class="line">adm	/sbin/nologin</span><br><span class="line">lp	/sbin/nologin</span><br><span class="line">sync	/bin/sync</span><br><span class="line">shutdown	/sbin/shutdown</span><br><span class="line">halt	/sbin/halt</span><br><span class="line">mail	/sbin/nologin</span><br><span class="line">operator	/sbin/nologin</span><br><span class="line">games	/sbin/nologin</span><br><span class="line">ftp	/sbin/nologin</span><br><span class="line">nobody	/sbin/nologin</span><br><span class="line">systemd-network	/sbin/nologin</span><br></pre></td></tr></table></figure>

<h4 id="END条件"><a href="#END条件" class="headerlink" title="END条件"></a>END条件</h4><p><strong>END</strong>条件后面跟着的脚本是在所有数据都处理完之后最后执行</p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">awk &#x27;BEGIN&#123;FS=&quot;:&quot;&#125; END&#123;print &quot;数据处理完成！&quot;&#125; &#123;print $1 &quot;\t&quot; $2&#125;&#x27;</span><br></pre></td></tr></table></figure>



<h4 id="关键运算符"><a href="#关键运算符" class="headerlink" title="关键运算符"></a>关键运算符</h4><p>比如有如下<code>student.txt</code>数据，查询出平均成绩大于等于86分的学生姓名</p>
<table>
<thead>
<tr>
<th>ID</th>
<th>Name</th>
<th>PHP</th>
<th>Linux</th>
<th>MySql</th>
<th>Average</th>
</tr>
</thead>
<tbody><tr>
<td>1</td>
<td>Liming</td>
<td>82</td>
<td>95</td>
<td>86</td>
<td>87.66</td>
</tr>
<tr>
<td>2</td>
<td>Sc</td>
<td>74</td>
<td>96</td>
<td>87</td>
<td>85.66</td>
</tr>
<tr>
<td>3</td>
<td>Gao</td>
<td>99</td>
<td>83</td>
<td>93</td>
<td>91.66</td>
</tr>
</tbody></table>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">cat student.txt | grep -v Name | awk &#x27;$6&gt;=86&#123;print $2&#125;&#x27;</span><br></pre></td></tr></table></figure>

<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">[hadoop@hadoop102 Files]$ cat student.txt | grep -v Name</span><br><span class="line">1	Liming	82	95	86	87.66</span><br><span class="line">2	Sc	74	96	87	85.66</span><br><span class="line">3	Gao	99	83	93	91.66</span><br><span class="line">[hadoop@hadoop102 Files]$ cat student.txt | grep -v Name | awk &#x27;$6&gt;=86&#123;print $2&#125;&#x27;</span><br><span class="line">Liming</span><br><span class="line">Gao</span><br></pre></td></tr></table></figure>













<h3 id="black-heart-sed-命令"><a href="#black-heart-sed-命令" class="headerlink" title=":black_heart:sed 命令"></a>:black_heart:<code>sed</code> 命令</h3><p><code>sed</code>是一种几乎包括在所有Unix平台（包括Linux）的轻量级流编辑器。sed主要是用来将数据进行选取，替换，删除，新增的命令，它一次处理一行内容。处理时，把当前处理的行存储在临时缓冲区中，称为“模式空间”（pattern space），接着用sed命令处理缓冲区中的内容，处理完成后，把缓冲区的内容送往屏幕。接着处理下一行，这样不断重复，直到文件末尾。文件内容并没有 改变，除非你使用重定向存储输出。Sed主要用来自动编辑一个或多个文件；简化对文件的反复操作；编写转换程序等。</p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line">[root@PC ~]# sed [-nefr] [动作]</span><br><span class="line">选项与参数：</span><br><span class="line">-n ：使用安静(silent)模式。在一般 sed 的用法中，所有来自 STDIN 的数据一般都会被列出到终端上。但如果加上 -n 参数后，则只有经过sed 特殊处理的那一行(或者动作)才会被列出来。</span><br><span class="line">-e ：直接在命令列模式上进行 sed 的动作编辑,也就是允许对输入数据应用多条sed命令；</span><br><span class="line">-f ：直接将 sed 的动作写在一个文件内， -f filename 则可以运行 filename 内的 sed 动作；</span><br><span class="line">-r ：sed 的动作支持的是延伸型正规表示法的语法。(默认是基础正规表示法语法)</span><br><span class="line">-i ：直接修改读取的文件内容，而不是输出到终端。</span><br><span class="line"></span><br><span class="line">动作说明： [n1[,n2]]function</span><br><span class="line">n1, n2 ：不见得会存在，一般代表『选择进行动作的行数』，举例来说，如果我的动作是需要在 10 到 20 行之间进行的，则[ 10,20[动作行为] ]</span><br><span class="line"></span><br><span class="line">function：</span><br><span class="line">a ：新增， a 的后面可以接字串，而这些字串会在新的一行出现(目前的下一行)～</span><br><span class="line">c ：取代， c 的后面可以接字串，这些字串可以取代 n1,n2 之间的行！</span><br><span class="line">d ：删除，因为是删除啊，所以 d 后面通常不接任何内容；</span><br><span class="line">i ：插入， i 的后面可以接字串，而这些字串会在新的一行出现(目前的上一行)；</span><br><span class="line">p ：列印，亦即将某个选择的数据印出。通常 p 会与参数 sed -n 一起运行～</span><br><span class="line">s ：取代，可以直接进行取代的工作哩！通常这个 s 的动作可以搭配正规表示法！例如 1,20s/old/new/g 就是啦！</span><br></pre></td></tr></table></figure>

<p>简单例子：</p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br></pre></td><td class="code"><pre><span class="line">yu@PC:~/Files$ sed &#x27;2p&#x27; student2.txt </span><br><span class="line">ID	Name	PHP	Linux	MySql	Average</span><br><span class="line">1	Liming	82	95	86	87.66</span><br><span class="line">1	Liming	82	95	86	87.66</span><br><span class="line">2	Sc	74	96	87	85.66</span><br><span class="line">3	Gao	99	83	93	91.66</span><br><span class="line"><span class="meta"></span></span><br><span class="line"><span class="meta"># </span><span class="language-bash">添加 -n选项后， 只有被sed处理的那一行才会被输出</span></span><br><span class="line">yu@PC:~/Files$ sed -n &#x27;2p&#x27; student2.txt </span><br><span class="line">1	Liming	82	95	86	87.66</span><br><span class="line"><span class="meta"></span></span><br><span class="line"><span class="meta"># </span><span class="language-bash">-d 删除行， 但是不影响源文件， 下面的例子是删除 第1到第3行</span></span><br><span class="line">yu@PC:~/Files$ sed &#x27;1,3d&#x27; student2.txt </span><br><span class="line">3	Gao	99	83	93	91.66</span><br><span class="line"><span class="meta"></span></span><br><span class="line"><span class="meta"># </span><span class="language-bash">-a 内容追加， 下述例子：在student2.txt	文件内容的第2行后插入hello</span></span><br><span class="line">yu@PC:~/Files$ sed &#x27;2a hello&#x27; student2.txt </span><br><span class="line">ID	Name	PHP	Linux	MySql	Average</span><br><span class="line">1	Liming	82	95	86	87.66</span><br><span class="line">hello</span><br><span class="line">2	Sc	74	96	87	85.66</span><br><span class="line">3	Gao	99	83	93	91.66</span><br><span class="line"><span class="meta"># </span><span class="language-bash">下述例子：在student2.txt	文件内容的第2行前插入 4:this is new line</span></span><br><span class="line">yu@PC:~/Files$ sed &#x27;2i 4:this is new line&#x27; student2.txt </span><br><span class="line">ID	Name	PHP	Linux	MySql	Average</span><br><span class="line">4:this is new line</span><br><span class="line">1	Liming	82	95	86	87.66</span><br><span class="line">2	Sc	74	96	87	85.66</span><br><span class="line">3	Gao	99	83	93	91.66</span><br><span class="line"><span class="meta"># </span><span class="language-bash">c 替换</span></span><br><span class="line">yu@PC:~/Files$ sed &#x27;1c no title&#x27; student2.txt </span><br><span class="line">no title</span><br><span class="line">1	Liming	82	95	86	87.66</span><br><span class="line">2	Sc	74	96	87	85.66</span><br><span class="line">3	Gao	99	83	93	91.66</span><br><span class="line"><span class="meta"># </span><span class="language-bash">s 字符串替换  sed <span class="string">&#x27;3s/74/98/g&#x27;</span>  第3行的74 换成 98</span></span><br><span class="line">yu@PC:~/Files$ sed &#x27;3s/74/98/g&#x27; student2.txt </span><br><span class="line">ID	Name	PHP	Linux	MySql	Average</span><br><span class="line">1	Liming	82	95	86	87.66</span><br><span class="line">2	Sc	98	96	87	85.66</span><br><span class="line">3	Gao	99	83	93	91.66</span><br><span class="line"><span class="meta"># </span><span class="language-bash">-i sed操作的数据直接写入文件， -i选项会影响源文件</span></span><br><span class="line">sed -i &#x27;3s/74/98/g&#x27; student2.txt</span><br><span class="line"><span class="meta"># </span><span class="language-bash">同时把Liming 和 Gao 替换成空格</span></span><br><span class="line">sed -e &#x27;s/Liming//g ; s/Gao//g&#x27; student2.txt</span><br></pre></td></tr></table></figure>



<h2 id="字符处理命令"><a href="#字符处理命令" class="headerlink" title="字符处理命令"></a>字符处理命令</h2><h3 id="Sort命令"><a href="#Sort命令" class="headerlink" title="Sort命令"></a><code>Sort</code>命令</h3><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">sort [选项] 文件名</span><br><span class="line">选项：</span><br><span class="line">	-f			忽略大小写</span><br><span class="line">	-n			以数值型进行排序，默认使用字符串型排序</span><br><span class="line">	-r			反向排序</span><br><span class="line">	-t			指定分隔符，默认分隔符是制表符</span><br><span class="line">	-k n[,m]	按照指定的字段范围排序。从第n字段开始，m字段结束（默认到行尾）</span><br></pre></td></tr></table></figure>

<p><strong>简单使用</strong></p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta"># </span><span class="language-bash">指定分隔符，用第三个字段开头，第3字段结尾排序，就是只用第三字段排序</span></span><br><span class="line">sort -t &quot;:&quot; -k 3,3 /etc/passwd</span><br><span class="line"><span class="meta"># </span><span class="language-bash">默认按照字符的顺序，比较第一个字符，如果相同再比较第二个字符， -n选项指定按照数值进行排序</span></span><br><span class="line">sort -n -t &quot;:&quot; -k 3,3 /etc/passwd</span><br></pre></td></tr></table></figure>



<h3 id="wc-命令"><a href="#wc-命令" class="headerlink" title="wc 命令"></a><code>wc</code> 命令</h3><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">wc [选项] 文件名</span><br><span class="line">选项：</span><br><span class="line">	-l			只统计行数</span><br><span class="line">	-w			只统计单词数</span><br><span class="line">	-m			值统计字符数</span><br><span class="line">	</span><br><span class="line">yu@PC:~/Files$ wc /etc/passwd</span><br><span class="line">  47   82 2775 /etc/passwd   # 表示 有47行， 82个单词， 2775个字符， 文件</span><br></pre></td></tr></table></figure>





<h2 id="条件判断"><a href="#条件判断" class="headerlink" title="条件判断"></a>条件判断</h2><h3 id="按照文件类型进行判断"><a href="#按照文件类型进行判断" class="headerlink" title="按照文件类型进行判断"></a>按照文件类型进行判断</h3><table>
<thead>
<tr>
<th>测试选项</th>
<th>作用</th>
</tr>
</thead>
<tbody><tr>
<td>-b 文件</td>
<td>判断该文件是否存在，并且是否为块设备文件（是块设备文件为真）</td>
</tr>
<tr>
<td>-c 文件</td>
<td>判断该文件是否存在，并且是否为字符设备文件（是字符设备文件为真）</td>
</tr>
<tr>
<td><strong>-d 文件</strong></td>
<td><strong>判断该文件是否存在， 并且是否为目录文件（是目录为真）</strong></td>
</tr>
<tr>
<td><strong>-e 文件</strong></td>
<td><strong>判断该文件是否存在（存在为真）</strong></td>
</tr>
<tr>
<td><strong>-f 文件</strong></td>
<td><strong>判断该文件是否存在，并且是否为普通文件（是普通文件为真）</strong></td>
</tr>
<tr>
<td>-L 文件</td>
<td>判断该文件是否存在，并且是否为符号链接文件（是符号链接文件为真）</td>
</tr>
<tr>
<td>-p 文件</td>
<td>判断该文件是否存在，并且是否为管道文件（是管道文件为真）</td>
</tr>
<tr>
<td>-s 文件</td>
<td>判断该文件是否存在，并且是否为非空（非空为真）</td>
</tr>
<tr>
<td>-S 文件</td>
<td>判断该文件是否存在，并且是否为套接字文件（是套接字文件为真）</td>
</tr>
</tbody></table>
<p><strong>使用格式</strong></p>
<ul>
<li><p><code>test -e /root/install.log</code></p>
<ul>
<li>```shell<br>test -e /root/install.log<br>echo $?   # 查看上一条命令的输出结果， 返回0表示命令执行正确， 非零表示不正确yu@PC:<del>/Files$ test -e /root<br>yu@PC:</del>/Files$ echo $?<br>0<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line">- `[ -e /root/install.log ]` </span><br><span class="line"></span><br><span class="line">  - 上述这种格式，常用与shell脚本中，作为条件进行判断</span><br><span class="line"></span><br><span class="line">但是虽然判断完是否存在之后，还需要$?去查看该命令的输出结果，这样使用也不是很方便，如何解决？？？？</span><br><span class="line"></span><br><span class="line">这时候，之前所学的`&amp;&amp;` 和 `||` 就派上用场了</span><br><span class="line"></span><br><span class="line">```shell</span><br><span class="line">yu@PC:~/Files$ [ -d /root ] &amp;&amp; echo &quot;yes&quot; || echo &quot;no&quot;</span><br><span class="line">yes</span><br><span class="line">yu@PC:~/Files$ [ -d /root/sdgfdsgfd ] &amp;&amp; echo &quot;yes&quot; || echo &quot;no&quot;</span><br><span class="line">no</span><br></pre></td></tr></table></figure></li>
</ul>
</li>
</ul>
<h3 id="按照文件权限进行判断"><a href="#按照文件权限进行判断" class="headerlink" title="按照文件权限进行判断"></a>按照文件权限进行判断</h3><table>
<thead>
<tr>
<th>测试选项</th>
<th>作用</th>
</tr>
</thead>
<tbody><tr>
<td><strong>-r 文件</strong></td>
<td><strong>判断该文件是否存在，并且是否改文件拥有读权限（有读权限为真）</strong></td>
</tr>
<tr>
<td><strong>-w 文件</strong></td>
<td><strong>判断该文件是否存在，并且是否该文件拥有写权限（有写权限为真）</strong></td>
</tr>
<tr>
<td><strong>-x 文件</strong></td>
<td><strong>判断该文件是否存在，并且是否该文件拥有执行权限（有执行权限为真）</strong></td>
</tr>
<tr>
<td>-u 文件</td>
<td>判断该文件是否存在，并且是否该文件拥有SUID权限（有SUID权限为真）</td>
</tr>
<tr>
<td>-g 文件</td>
<td>判断该文件是否存在，并且是否该文件拥有SGID权限（有SGID权限为真）</td>
</tr>
<tr>
<td>-k 文件</td>
<td>判断该文件是否存在，并且是否该文件用有SBit权限（有SBit权限为真）</td>
</tr>
</tbody></table>
<p>上述判断文件权限不会区分是那个用户下的，是属主，属组，还是其他用户。</p>
<h3 id="两个文件之间进行比较"><a href="#两个文件之间进行比较" class="headerlink" title="两个文件之间进行比较"></a>两个文件之间进行比较</h3><table>
<thead>
<tr>
<th>测试选项</th>
<th>作用</th>
</tr>
</thead>
<tbody><tr>
<td>文件1 -nt 文件2</td>
<td>判断文件1的修改时间是否比文件2的新（如果新则为真）</td>
</tr>
<tr>
<td>文件1 -ot 文件2</td>
<td>判断文件1的修改时间是否比文件2的旧（如果旧则为真）</td>
</tr>
<tr>
<td>文件1 -ef 文件2</td>
<td>判断文件1是否和文件2的Inode号一致，可以理解为两个文件是否为同一个文件。这个判断用于判断硬链接是很的方法。</td>
</tr>
</tbody></table>
<h3 id="两个整数之间的比较"><a href="#两个整数之间的比较" class="headerlink" title="两个整数之间的比较"></a>两个整数之间的比较</h3><table>
<thead>
<tr>
<th>测试选项</th>
<th>作用</th>
</tr>
</thead>
<tbody><tr>
<td><code>整数1 -eq 整数2</code></td>
<td>判断整数1是否和整数2相等</td>
</tr>
<tr>
<td><code>整数1 -ne 整数2</code></td>
<td>判断整数1是否和整数2不相等</td>
</tr>
<tr>
<td><code>整数1 -gt 整数2</code></td>
<td>判断整数1是否大于整数2</td>
</tr>
<tr>
<td><code>整数1 -lt 整数2</code></td>
<td>判断整数1是否小于整数2</td>
</tr>
<tr>
<td><code>整数1 -ge 整数2</code></td>
<td>判断整数1是否大于等于整数2</td>
</tr>
<tr>
<td><code>整数1 -le 整数2</code></td>
<td>判断整数1是否小于等于整数2</td>
</tr>
</tbody></table>
<h3 id="字符串的判断"><a href="#字符串的判断" class="headerlink" title="字符串的判断"></a>字符串的判断</h3><table>
<thead>
<tr>
<th>测试选项</th>
<th>作用</th>
</tr>
</thead>
<tbody><tr>
<td>-z 字符串 （zero）</td>
<td>判断字符串是否为空</td>
</tr>
<tr>
<td>-n 字符串</td>
<td>判断字符串是否为非空（可以用来判断输入的参数是否非空）</td>
</tr>
<tr>
<td>字符串1  ==  字符串2</td>
<td>判断两个字符串是否相等</td>
</tr>
<tr>
<td>字符串1  !=  字符串2</td>
<td>判断两个字符串是否不相等</td>
</tr>
</tbody></table>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">yu@PC:~/Files$ [ &quot;$aa&quot; == &quot;$bb&quot; ] &amp;&amp; echo &quot;yes&quot; || echo &quot;no&quot;</span><br><span class="line">no</span><br></pre></td></tr></table></figure>

<h3 id="多重条件判断"><a href="#多重条件判断" class="headerlink" title="多重条件判断"></a>多重条件判断</h3><table>
<thead>
<tr>
<th>测试选项</th>
<th>作用</th>
</tr>
</thead>
<tbody><tr>
<td>判断1 -a 判断2</td>
<td>逻辑与，判断1和判断2都成立，最终的结果才为真</td>
</tr>
<tr>
<td>判断1 -o 判断2</td>
<td>逻辑或，判断1和判断2有一个成立，最终的结果就位真</td>
</tr>
<tr>
<td>! 判断</td>
<td>逻辑非，使原始的判断式取反</td>
</tr>
</tbody></table>
<blockquote>
<p>判断aa变量是否不为空，如果不为空，就判断aa变量的数值是否大于23</p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">yu@PC:~/Files$ [ -n &quot;$aa&quot; -a &quot;$aa&quot; -gt 23 ] &amp;&amp; echo &quot;yes&quot; || echo &quot;no&quot;</span><br><span class="line">no</span><br></pre></td></tr></table></figure>
</blockquote>
<h2 id="流程控制"><a href="#流程控制" class="headerlink" title="流程控制"></a>流程控制</h2><h3 id="if语句"><a href="#if语句" class="headerlink" title="if语句"></a>if语句</h3><h4 id="1-单分支if条件语句"><a href="#1-单分支if条件语句" class="headerlink" title="1. 单分支if条件语句"></a>1. 单分支if条件语句</h4><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line">if [ 条件判断式 ]; then</span><br><span class="line">	程序。。。</span><br><span class="line">fi</span><br><span class="line"></span><br><span class="line">或者</span><br><span class="line"></span><br><span class="line">if [ 条件判断式 ]</span><br><span class="line">	then</span><br><span class="line">		程序。。。</span><br><span class="line">fi</span><br></pre></td></tr></table></figure>

<h5 id="单分支条件语句需要注意几个点"><a href="#单分支条件语句需要注意几个点" class="headerlink" title="单分支条件语句需要注意几个点"></a>单分支条件语句需要注意几个点</h5><ul>
<li>if语句使用fi结尾，和一般语言使用大括号结尾不同</li>
<li>[ 条件判断式 ]就是使用test命令判断，所以中括号和条件判断式之间必须有空格</li>
<li>then后面跟符合条件之后执行的程序，可以放在[  ]之后，用<code>;</code>分割。也可以换行写入，就不需要<code>;</code>了</li>
</ul>
<p><strong>😊实用小例子：判断分区使用率</strong></p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#</span><span class="language-bash">!/bin/bash</span></span><br><span class="line"><span class="meta"># </span><span class="language-bash">统计分区使用率</span></span><br><span class="line"><span class="meta"># </span><span class="language-bash">Author: yulu	(Email:XXXX@163.com)</span></span><br><span class="line"></span><br><span class="line">path=$1</span><br><span class="line">threshold=$2</span><br><span class="line">use_rate=$(df -h | grep &quot;$path&quot; | awk &#x27;&#123;print $5&#125;&#x27; | cut -d &#x27;%&#x27; -f 1)</span><br><span class="line"><span class="meta"># </span><span class="language-bash">根据分区使用率作为变量赋值给变量user_rate</span></span><br><span class="line">if [ $use_rate -ge $threshold ]; then</span><br><span class="line">	echo &quot;Warning! /dev/sda5 will be exhausted!!&quot;</span><br><span class="line">fi</span><br><span class="line">yu@PC:~/bin$ chmod +x dfRate.sh</span><br><span class="line">yu@PC:~/bin$ dfRate.sh /dev/sda5 1</span><br><span class="line">Warning! /dev/sda5 will be exhausted!!</span><br></pre></td></tr></table></figure>



<h4 id="2-多分支if条件语句"><a href="#2-多分支if条件语句" class="headerlink" title="2. 多分支if条件语句"></a>2. 多分支if条件语句</h4><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">if [ condition ]</span><br><span class="line">	then</span><br><span class="line">		...</span><br><span class="line">	else</span><br><span class="line">		...</span><br><span class="line">fi</span><br></pre></td></tr></table></figure>

<p><strong>❤️实用小需求：备份重要文件</strong></p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#</span><span class="language-bash">!/bin/bash</span></span><br><span class="line">  </span><br><span class="line">back_path=$1</span><br><span class="line">date=$(date +%y%m%d)</span><br><span class="line">size=$(du -sh $back_path)</span><br><span class="line"><span class="meta"># </span><span class="language-bash">开始进行备份</span></span><br><span class="line">if [ -d /tmp/back_files ]</span><br><span class="line">        then</span><br><span class="line">                echo &quot;Date is $date&quot; &gt; /tmp/back_files/backInfo.txt  # 覆盖</span><br><span class="line">                echo &quot;Size is $size&quot; &gt;&gt; /tmp/back_files/backInfo.txt # 追加</span><br><span class="line">                cd /tmp/back_files  # tar 压缩，归档的名字不能有/,所以需要提前移动到需要压缩文件的目录下</span><br><span class="line">                tar -zcf etc_$date.tar.gz /etc /tmp/back_files/backInfo.txt &amp;&gt; /dev/null # 把正确和错误输出都输入到黑洞中</span><br><span class="line">                rm -rf /tmp/back_files/backInfo.txt</span><br><span class="line">        else</span><br><span class="line">                echo &quot;备份目录不存在&quot;</span><br><span class="line">                mkdir /tmp/back_files</span><br><span class="line">                echo &quot;创建备份目录 /tmp/back_files&quot;</span><br><span class="line">                echo &quot;Date is $date&quot; &gt; /tmp/back_files/backInfo.txt  # 覆盖</span><br><span class="line">                echo &quot;Size is $size&quot; &gt;&gt; /tmp/back_files/backInfo.txt # 追加</span><br><span class="line">                cd /tmp/back_files</span><br><span class="line">                tar -zcf etc_$date.tar.gz /etc /tmp/back_files/backInfo.txt &amp;&gt; /dev/null # 把正确和错误输出都输入到黑洞中</span><br><span class="line">                rm -rf /tmp/back_files/backInfo.txt</span><br><span class="line">fi</span><br><span class="line"></span><br></pre></td></tr></table></figure>

<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br></pre></td><td class="code"><pre><span class="line">root@PC:/home/yu/bin# ./backup.sh </span><br><span class="line">备份目录不存在</span><br><span class="line">创建备份目录 /tmp/back_files</span><br><span class="line">root@PC:/home/yu/bin# ls /tmp/back_files/</span><br><span class="line">etc_211215.tar.gz</span><br><span class="line"><span class="meta"># </span><span class="language-bash">不解压压缩包，只查看里面的内容</span></span><br><span class="line">root@PC:/home/yu/bin# tar -ztvf /tmp/back_files/etc_211215.tar.gz </span><br><span class="line">lrwxrwxrwx root/root         0 2021-12-08 15:01 etc/rc3.d/K01speech-dispatcher -&gt; ../init.d/speech-dispatcher</span><br><span class="line">lrwxrwxrwx root/root         0 2021-12-08 23:20 etc/rc3.d/S01ssh -&gt; ../init.d/ssh</span><br><span class="line">lrwxrwxrwx root/root         0 2021-12-08 15:01 etc/rc3.d/S01pulseaudio-enable-autospawn -&gt; ../init.d/pulseaudio-enable-autospawn</span><br><span class="line">lrwxrwxrwx root/root         0 2021-12-08 15:01 etc/rc3.d/S01cron -&gt; ../init.d/cron</span><br><span class="line">lrwxrwxrwx root/root         0 2021-12-08 15:01 etc/rc3.d/S01dbus -&gt; ../init.d/dbus</span><br><span class="line">lrwxrwxrwx root/root         0 2021-12-08 15:01 etc/rc3.d/S01apport -&gt; ../init.d/apport</span><br><span class="line">lrwxrwxrwx root/root         0 2021-12-08 15:01 etc/rc3.d/S01avahi-daemon -&gt; ../init.d/avahi-daemon</span><br><span class="line">lrwxrwxrwx root/root         0 2021-12-08 15:01 etc/rc3.d/S01saned -&gt; ../init.d/saned</span><br><span class="line">lrwxrwxrwx root/root         0 2021-12-08 15:01 etc/rc3.d/S01acpid -&gt; ../init.d/acpid</span><br><span class="line">lrwxrwxrwx root/root         0 2021-12-08 15:01 etc/rc3.d/S01rsyslog -&gt; ../init.d/rsyslog</span><br><span class="line">lrwxrwxrwx root/root         0 2021-12-08 15:01 etc/rc3.d/S01console-setup.sh -&gt; ../init.d/console-setup.sh</span><br><span class="line">lrwxrwxrwx root/root         0 2021-12-08 15:01 etc/rc3.d/S01spice-vdagent -&gt; ../init.d/spice-vdagent</span><br><span class="line">lrwxrwxrwx root/root         0 2021-12-08 15:01 etc/rc3.d/S01rsync -&gt; ../init.d/rsync</span><br><span class="line">lrwxrwxrwx root/root         0 2021-12-08 15:01 etc/rc3.d/S01unattended-upgrades -&gt; ../init.d/unattended-upgrades</span><br><span class="line">lrwxrwxrwx root/root         0 2021-12-08 15:01 etc/rc3.d/S01gdm3 -&gt; ../init.d/gdm3</span><br><span class="line">lrwxrwxrwx root/root         0 2021-12-08 15:01 etc/rc3.d/S01cups -&gt; ../init.d/cups</span><br><span class="line">lrwxrwxrwx root/root         0 2021-12-08 15:01 etc/rc3.d/S01grub-common -&gt; ../init.d/grub-common</span><br><span class="line">drwxr-xr-x root/root         0 2020-04-23 15:39 etc/update-motd.d/</span><br><span class="line">-rwxr-xr-x root/root      4677 2019-12-05 22:39 etc/update-motd.d/50-motd-news</span><br><span class="line">-rwxr-xr-x root/root      1157 2019-12-05 22:39 etc/update-motd.d/10-help-text</span><br><span class="line">-rwxr-xr-x root/root       165 2020-04-14 06:37 etc/update-motd.d/92-unattended-upgrades</span><br><span class="line">-rwxr-xr-x root/root       299 2019-12-19 04:25 etc/update-motd.d/91-release-upgrade</span><br><span class="line">-rwxr-xr-x root/root      1220 2019-12-05 22:39 etc/update-motd.d/00-header</span><br><span class="line">-rwxr-xr-x root/root       144 2020-04-02 19:25 etc/update-motd.d/98-reboot-required</span><br><span class="line">-rwxr-xr-x root/root       142 2020-04-02 19:25 etc/update-motd.d/98-fsck-at-reboot</span><br><span class="line">-rwxr-xr-x root/root        96 2020-04-02 02:43 etc/update-motd.d/85-fwupd</span><br><span class="line">-rwxr-xr-x root/root       218 2020-04-02 19:25 etc/update-motd.d/90-updates-available</span><br><span class="line">-rwxr-xr-x root/root       129 2020-04-02 19:25 etc/update-motd.d/95-hwe-eol</span><br><span class="line">drwxr-xr-x root/root         0 2020-04-23 15:35 etc/pki/</span><br><span class="line">drwxr-xr-x root/root         0 2020-04-23 15:39 etc/pki/fwupd-metadata/</span><br><span class="line">-rw-r--r-- root/root      2169 2020-03-05 00:18 etc/pki/fwupd-metadata/GPG-KEY-Linux-Foundation-Metadata</span><br><span class="line">-rw-r--r-- root/root       959 2020-03-05 00:18 etc/pki/fwupd-metadata/GPG-KEY-Linux-Vendor-Firmware-Service</span><br><span class="line">-rw-r--r-- root/root      1679 2020-03-05 00:18 etc/pki/fwupd-metadata/LVFS-CA.pem</span><br><span class="line">drwxr-xr-x root/root         0 2020-04-23 15:39 etc/pki/fwupd/</span><br><span class="line">-rw-r--r-- root/root      2169 2020-03-05 00:18 etc/pki/fwupd/GPG-KEY-Linux-Foundation-Firmware</span><br><span class="line">-rw-r--r-- root/root      1702 2020-03-05 00:18 etc/pki/fwupd/GPG-KEY-Hughski-Limited</span><br><span class="line">-rw-r--r-- root/root       959 2020-03-05 00:18 etc/pki/fwupd/GPG-KEY-Linux-Vendor-Firmware-Service</span><br><span class="line">-rw-r--r-- root/root      1679 2020-03-05 00:18 etc/pki/fwupd/LVFS-CA.pem</span><br><span class="line">-rw-r--r-- root/root        29 2021-12-15 21:23 tmp/back_files/backInfo.txt</span><br></pre></td></tr></table></figure>



<p><strong>❤️实用例子：判断apache是否启动？</strong></p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#</span><span class="language-bash">!/bin/bash</span></span><br><span class="line">port=$(nmap -sT 192.168.1.156 | grep tcp | grep http | awk &#x27;&#123;print $2&#125;&#x27;)</span><br><span class="line"><span class="meta"># </span><span class="language-bash">使用nmap命令扫描服务器，并截取apache服务的状态，赋予变量port</span> </span><br><span class="line">if [ &quot;$port&quot; == &quot;open&quot; ]</span><br><span class="line">	then</span><br><span class="line">		echo &quot;$(date) httpd is ok!&quot; &gt;&gt; /tmp/autostart-acc.log</span><br><span class="line">	else</span><br><span class="line">		/etc/rc.d/init.d/httpd start &amp;&gt; /dev/null</span><br><span class="line">		echo &quot;$(date) restart httpd !!&quot; &gt;&gt; /tmp/autostart-err.log</span><br><span class="line">fi</span><br></pre></td></tr></table></figure>



<h4 id="3-多分支if条件语句"><a href="#3-多分支if条件语句" class="headerlink" title="3. 多分支if条件语句"></a>3. 多分支if条件语句</h4><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line">if [ 条件判断式1 ]</span><br><span class="line">	then</span><br><span class="line">		...</span><br><span class="line">elif [ 条件判断式2 ]</span><br><span class="line">	then</span><br><span class="line">		...</span><br><span class="line">else</span><br><span class="line">	then</span><br><span class="line">		...</span><br><span class="line">fi</span><br></pre></td></tr></table></figure>

<p>例子：判断用户输入的是什么文件</p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#</span><span class="language-bash">!/bin/bash</span></span><br><span class="line">read -p &quot;Please input a filename:&quot; file</span><br><span class="line"><span class="meta"># </span><span class="language-bash">首先判断输入的内容是否为空</span></span><br><span class="line">if [ -z &quot;$file&quot; ]</span><br><span class="line">	then</span><br><span class="line">		echo &quot;Error , please input a filename&quot;</span><br><span class="line">		exit 1</span><br><span class="line"><span class="meta"># </span><span class="language-bash">-e 判断文件是否存在</span></span><br><span class="line">elif [ ! -e &quot;$file&quot; ]</span><br><span class="line">	then</span><br><span class="line">		echo &quot;Your input is no a file or file is not exist !&quot;</span><br><span class="line">		exit 2</span><br><span class="line"><span class="meta"># </span><span class="language-bash">判断是否是普通文件</span></span><br><span class="line">elif [ -f &quot;$file&quot; ]</span><br><span class="line">	then</span><br><span class="line">		echo &quot;$file is a regulare file!&quot;</span><br><span class="line">elif [ -d &quot;$file&quot; ]</span><br><span class="line">	then</span><br><span class="line">		echo &quot;$file is a directory&quot;</span><br><span class="line">else</span><br><span class="line">	echo &quot;$file is an other file!&quot;</span><br><span class="line">fi	</span><br></pre></td></tr></table></figure>



<h3 id="case-语句"><a href="#case-语句" class="headerlink" title="case 语句"></a>case 语句</h3><p><code>case</code>和<code>if...elif...else</code>语句一样都是多分支条件语句，不过和<code>if</code>多分支条件语句不同的是，<code>case</code>语句只能判断一种条件关系，而<code>if</code>语句可以判断多种条件关系。</p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line">case $变量名 in</span><br><span class="line">	&quot;value1&quot;)</span><br><span class="line">		如果变量名的值等于value1，执行程序1</span><br><span class="line">		;;</span><br><span class="line">	&quot;value2&quot;)</span><br><span class="line">		....</span><br><span class="line">		;;</span><br><span class="line">	...</span><br><span class="line">	*)</span><br><span class="line">		如果变量的值都不是以上的值，则执行此程序</span><br><span class="line">		;;</span><br><span class="line">esac</span><br></pre></td></tr></table></figure>



<h3 id="for-循环"><a href="#for-循环" class="headerlink" title="for 循环"></a>for 循环</h3><h4 id="语法1"><a href="#语法1" class="headerlink" title="语法1"></a><strong>语法1</strong></h4><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">for 变量 in 值1 值2 值3 ...</span><br><span class="line">	do</span><br><span class="line">		程序</span><br><span class="line">	done</span><br></pre></td></tr></table></figure>

<p>例子：</p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#</span><span class="language-bash">!/bin/bash</span></span><br><span class="line">for time in morning noon afternoon evening</span><br><span class="line">	do</span><br><span class="line">		echo &quot;This time is $time!&quot;</span><br><span class="line">	done</span><br></pre></td></tr></table></figure>

<p>批量解压缩脚本</p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#</span><span class="language-bash">!/bin/bash</span></span><br><span class="line">cd /lamp</span><br><span class="line">ls *.tar.gz &gt; ls.log</span><br><span class="line">for i in $(cat ls.log)</span><br><span class="line">	do</span><br><span class="line">		tar -zxf $i &amp;&gt; /dev/null</span><br><span class="line">	done</span><br><span class="line">rm -rf /lamp/ls.log</span><br></pre></td></tr></table></figure>



<h4 id="语法2"><a href="#语法2" class="headerlink" title="语法2"></a><strong>语法2</strong></h4><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">for (( 初始值;循环控制条件;变量变化))</span><br><span class="line">	do</span><br><span class="line">		...</span><br><span class="line">	done</span><br></pre></td></tr></table></figure>

<p>例子：从1加到100</p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">s=0</span><br><span class="line">for (( i=1;i&lt;=100;i=i+1 ))</span><br><span class="line">	do</span><br><span class="line">		s=$(( $s+$i ))</span><br><span class="line">   	done</span><br><span class="line">echo &quot;The sum of 1+2+...+100 is: $s&quot;</span><br></pre></td></tr></table></figure>





<h3 id="while-循环-与-until-循环"><a href="#while-循环-与-until-循环" class="headerlink" title="while 循环 与 until 循环"></a>while 循环 与 until 循环</h3><p>while循环是不定循环，也称作条件循环。只要条件判断式成立，循环就会一直继续，直到条件判断式不成立，循环才会停止。这就和for的固定循环不太一样了。</p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">while [ 条件判断式 ]</span><br><span class="line">	do</span><br><span class="line">		...</span><br><span class="line">		条件判断式中的条件改变策略</span><br><span class="line">		...</span><br><span class="line">	done</span><br></pre></td></tr></table></figure>

<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#</span><span class="language-bash">!/bin/bash</span></span><br><span class="line"></span><br><span class="line">i=1</span><br><span class="line">s=0</span><br><span class="line">while [ $i -le 100 ]</span><br><span class="line">	do</span><br><span class="line">		s=$(( $s+$i ))</span><br><span class="line">		i=$(( $i+1 ))</span><br><span class="line">	done</span><br><span class="line">echo &quot;The Sum is：$s&quot;</span><br></pre></td></tr></table></figure>



<p>until循环，和while循环相反，until循环是只要条件判断式不成立则进入循环，并执行循环程序，一点循环条件成立，则终止循环。</p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#</span><span class="language-bash">!/bin/bash</span></span><br><span class="line">i=1</span><br><span class="line">s=0</span><br><span class="line">until [ $i -gt 100 ]</span><br><span class="line">	do</span><br><span class="line">		s=$(( $s+$i ))</span><br><span class="line">		i=$(( $i+1 ))</span><br><span class="line">	done</span><br><span class="line">echo &quot;The Sum is：$s&quot;</span><br></pre></td></tr></table></figure>






    </div>

    
    
    

      <footer class="post-footer">

        


        
    <div class="post-nav">
      <div class="post-nav-item">
    <a href="/2022/06/24/Netty%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0/" rel="prev" title="Netty通讯框架">
      <i class="fa fa-chevron-left"></i> Netty通讯框架
    </a></div>
      <div class="post-nav-item">
    <a href="/2022/06/24/hello-world/" rel="next" title="Hello World">
      Hello World <i class="fa fa-chevron-right"></i>
    </a></div>
    </div>
      </footer>
    
  </article>
  
  
  



          </div>
          

<script>
  window.addEventListener('tabs:register', () => {
    let { activeClass } = CONFIG.comments;
    if (CONFIG.comments.storage) {
      activeClass = localStorage.getItem('comments_active') || activeClass;
    }
    if (activeClass) {
      let activeTab = document.querySelector(`a[href="#comment-${activeClass}"]`);
      if (activeTab) {
        activeTab.click();
      }
    }
  });
  if (CONFIG.comments.storage) {
    window.addEventListener('tabs:click', event => {
      if (!event.target.matches('.tabs-comment .tab-content .tab-pane')) return;
      let commentClass = event.target.classList[1];
      localStorage.setItem('comments_active', commentClass);
    });
  }
</script>

        </div>
          
  
  <div class="toggle sidebar-toggle">
    <span class="toggle-line toggle-line-first"></span>
    <span class="toggle-line toggle-line-middle"></span>
    <span class="toggle-line toggle-line-last"></span>
  </div>

  <aside class="sidebar">
    <div class="sidebar-inner">

      <ul class="sidebar-nav motion-element">
        <li class="sidebar-nav-toc">
          Table of Contents
        </li>
        <li class="sidebar-nav-overview">
          Overview
        </li>
      </ul>

      <!--noindex-->
      <div class="post-toc-wrap sidebar-panel">
          <div class="post-toc motion-element"><ol class="nav"><li class="nav-item nav-level-1"><a class="nav-link" href="#Shell%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0"><span class="nav-number">1.</span> <span class="nav-text">Shell学习笔记</span></a><ol class="nav-child"><li class="nav-item nav-level-2"><a class="nav-link" href="#%E8%BE%93%E5%85%A5%E8%BE%93%E5%87%BA%E9%87%8D%E5%AE%9A%E5%90%91"><span class="nav-number">1.1.</span> <span class="nav-text">输入输出重定向</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#1-%E6%A0%87%E5%87%86%E8%BE%93%E5%85%A5%E8%BE%93%E5%87%BA"><span class="nav-number">1.1.1.</span> <span class="nav-text">1. 标准输入输出</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#2-%E8%BE%93%E5%87%BA%E9%87%8D%E5%AE%9A%E5%90%91"><span class="nav-number">1.1.2.</span> <span class="nav-text">2. 输出重定向</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#3-%E8%BE%93%E5%85%A5%E9%87%8D%E5%AE%9A%E5%90%91"><span class="nav-number">1.1.3.</span> <span class="nav-text">3. 输入重定向</span></a></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#%E5%A4%9A%E5%91%BD%E4%BB%A4%E9%A1%BA%E5%BA%8F%E6%89%A7%E8%A1%8C%E4%B8%8E%E7%AE%A1%E9%81%93%E7%AC%A6"><span class="nav-number">1.2.</span> <span class="nav-text">多命令顺序执行与管道符</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#%E5%91%BD%E4%BB%A4%E9%A1%BA%E5%BA%8F%E6%89%A7%E8%A1%8C%EF%BC%8C%E9%80%BB%E8%BE%91%E4%B8%8E%E6%89%A7%E8%A1%8C%EF%BC%8C%E9%80%BB%E8%BE%91%E6%88%96%E6%89%A7%E8%A1%8C"><span class="nav-number">1.2.1.</span> <span class="nav-text">命令顺序执行，逻辑与执行，逻辑或执行</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#%E7%AE%A1%E9%81%93%E7%AC%A6"><span class="nav-number">1.2.2.</span> <span class="nav-text">管道符</span></a></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#%E9%80%9A%E9%85%8D%E7%AC%A6%E5%92%8C%E5%85%B6%E4%BB%96%E7%89%B9%E6%AE%8A%E7%AC%A6%E5%8F%B7"><span class="nav-number">1.3.</span> <span class="nav-text">通配符和其他特殊符号</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#Bash%E5%8F%98%E9%87%8F"><span class="nav-number">1.4.</span> <span class="nav-text">Bash变量</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#%E7%94%A8%E6%88%B7%E8%87%AA%E5%AE%9A%E4%B9%89%E5%8F%98%E9%87%8F%EF%BC%88%E6%9C%AC%E5%9C%B0%E5%8F%98%E9%87%8F%EF%BC%89"><span class="nav-number">1.4.1.</span> <span class="nav-text">用户自定义变量（本地变量）</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#%E7%8E%AF%E5%A2%83%E5%8F%98%E9%87%8F"><span class="nav-number">1.4.2.</span> <span class="nav-text">环境变量</span></a><ol class="nav-child"><li class="nav-item nav-level-4"><a class="nav-link" href="#%E7%B3%BB%E7%BB%9F%E5%B8%B8%E8%A7%81%E7%9A%84%E7%8E%AF%E5%A2%83%E5%8F%98%E9%87%8F"><span class="nav-number">1.4.2.1.</span> <span class="nav-text">系统常见的环境变量</span></a></li></ol></li></ol></li></ol></li><li class="nav-item nav-level-1"><a class="nav-link" href="#%E9%87%8D%E6%96%B0%E8%AE%BE%E7%BD%AEPS1%E5%8F%98%E9%87%8F"><span class="nav-number">2.</span> <span class="nav-text">重新设置PS1变量</span></a></li><li class="nav-item nav-level-1"><a class="nav-link" href="#%E7%94%A8%E6%88%B7%E5%90%8D-%E4%B8%BB%E6%9C%BA%E5%90%8D-%E6%97%B6%E9%97%B4-%E5%AE%8C%E6%95%B4%E7%9B%AE%E5%BD%95-%E6%89%A7%E8%A1%8C%E7%9A%84%E7%AC%AC%E5%87%A0%E4%B8%AA%E5%91%BD%E4%BB%A4-%E6%8F%90%E7%A4%BA%E7%AC%A6"><span class="nav-number">3.</span> <span class="nav-text">[用户名@主机名 时间 完整目录]:执行的第几个命令 提示符</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#%E9%A2%84%E5%AE%9A%E4%B9%89%E5%8F%98%E9%87%8F"><span class="nav-number">3.0.1.</span> <span class="nav-text">预定义变量</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#%E6%8E%A5%E6%94%B6%E9%94%AE%E7%9B%98%E8%BE%93%E5%85%A5"><span class="nav-number">3.0.2.</span> <span class="nav-text">接收键盘输入</span></a></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#%E6%95%B0%E5%80%BC%E8%BF%90%E7%AE%97%E4%B8%8E%E8%BF%90%E7%AE%97%E7%AC%A6"><span class="nav-number">3.1.</span> <span class="nav-text">数值运算与运算符</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#%E6%95%B0%E5%80%BC%E8%BF%90%E7%AE%97"><span class="nav-number">3.1.1.</span> <span class="nav-text">数值运算</span></a><ol class="nav-child"><li class="nav-item nav-level-4"><a class="nav-link" href="#declare-%E5%A3%B0%E6%98%8E%E5%8F%98%E9%87%8F%E7%B1%BB%E5%9E%8B"><span class="nav-number">3.1.1.1.</span> <span class="nav-text">declare 声明变量类型</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#%E6%96%B9%E6%B3%951%EF%BC%9Adeclare%E5%A3%B0%E6%98%8E%E7%B1%BB%E5%9E%8B"><span class="nav-number">3.1.1.2.</span> <span class="nav-text">方法1：declare声明类型</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#%E6%96%B9%E6%B3%952%EF%BC%9Aexpr%E6%88%96let%E6%95%B0%E5%80%BC%E8%BF%90%E7%AE%97%E5%B7%A5%E5%85%B7"><span class="nav-number">3.1.1.3.</span> <span class="nav-text">方法2：expr或let数值运算工具</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#%E6%96%B9%E6%B3%953%EF%BC%9A-%E8%BF%90%E7%AE%97%E5%BC%8F-%E6%88%96-%E8%BF%90%E7%AE%97%E5%BC%8F-%E6%8E%A8%E8%8D%90"><span class="nav-number">3.1.1.4.</span> <span class="nav-text">方法3：$((运算式)) 或 $[运算式]   (推荐)</span></a></li></ol></li><li class="nav-item nav-level-3"><a class="nav-link" href="#%E8%BF%90%E7%AE%97%E7%AC%A6"><span class="nav-number">3.1.2.</span> <span class="nav-text">运算符</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#%E5%8F%98%E9%87%8F%E6%B5%8B%E8%AF%95-%E4%B8%8E-%E5%86%85%E5%AE%B9%E6%9B%BF%E6%8D%A2"><span class="nav-number">3.1.3.</span> <span class="nav-text">变量测试 与 内容替换</span></a></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#%E7%8E%AF%E5%A2%83%E5%8F%98%E9%87%8F%E9%85%8D%E7%BD%AE%E6%96%87%E4%BB%B6"><span class="nav-number">3.2.</span> <span class="nav-text">环境变量配置文件</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#bulb-source-%E5%91%BD%E4%BB%A4"><span class="nav-number">3.2.1.</span> <span class="nav-text">:bulb:source 命令</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#%E7%8E%AF%E5%A2%83%E5%8F%98%E9%87%8F%E9%85%8D%E7%BD%AE%E6%96%87%E4%BB%B6%E7%AE%80%E4%BB%8B"><span class="nav-number">3.2.2.</span> <span class="nav-text">环境变量配置文件简介</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#%E7%8E%AF%E5%A2%83%E5%8F%98%E9%87%8F%E9%85%8D%E7%BD%AE%E6%96%87%E4%BB%B6%E4%BD%9C%E7%94%A8"><span class="nav-number">3.2.3.</span> <span class="nav-text">环境变量配置文件作用</span></a><ol class="nav-child"><li class="nav-item nav-level-4"><a class="nav-link" href="#butterfly-etc-profile%E7%9A%84%E4%BD%9C%E7%94%A8"><span class="nav-number">3.2.3.1.</span> <span class="nav-text">:butterfly:&#x2F;etc&#x2F;profile的作用</span></a></li></ol></li><li class="nav-item nav-level-3"><a class="nav-link" href="#%E5%85%B6%E4%BB%96%E9%85%8D%E7%BD%AE%E6%96%87%E4%BB%B6%E5%92%8C%E7%99%BB%E5%BD%95%E4%BF%A1%E6%81%AF"><span class="nav-number">3.2.4.</span> <span class="nav-text">其他配置文件和登录信息</span></a><ol class="nav-child"><li class="nav-item nav-level-4"><a class="nav-link" href="#%E6%B3%A8%E9%94%80%E6%97%B6%E7%94%9F%E6%95%88%E7%9A%84%E9%85%8D%E7%BD%AE%E6%96%87%E4%BB%B6"><span class="nav-number">3.2.4.1.</span> <span class="nav-text">注销时生效的配置文件</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#%E5%8E%86%E5%8F%B2%E5%91%BD%E4%BB%A4%E4%BF%9D%E5%AD%98%E6%96%87%E4%BB%B6"><span class="nav-number">3.2.4.2.</span> <span class="nav-text">历史命令保存文件</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#Shell-%E7%99%BB%E5%BD%95%E4%BF%A1%E6%81%AF"><span class="nav-number">3.2.4.3.</span> <span class="nav-text">Shell 登录信息</span></a></li></ol></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#%E6%AD%A3%E5%88%99%E8%A1%A8%E8%BE%BE%E5%BC%8F"><span class="nav-number">3.3.</span> <span class="nav-text">正则表达式</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#%E5%AD%97%E7%AC%A6%E6%88%AA%E5%8F%96%E5%91%BD%E4%BB%A4"><span class="nav-number">3.4.</span> <span class="nav-text">字符截取命令</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#black-heart-cut-%E5%AD%97%E6%AE%B5%E6%8F%90%E5%8F%96%E5%91%BD%E4%BB%A4"><span class="nav-number">3.4.1.</span> <span class="nav-text">:black_heart:cut 字段提取命令</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#black-heart-printf-%E5%91%BD%E4%BB%A4"><span class="nav-number">3.4.2.</span> <span class="nav-text">:black_heart:printf 命令</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#black-heart-awk-%E5%91%BD%E4%BB%A4"><span class="nav-number">3.4.3.</span> <span class="nav-text">:black_heart:awk 命令</span></a><ol class="nav-child"><li class="nav-item nav-level-4"><a class="nav-link" href="#BEGIN%E6%9D%A1%E4%BB%B6"><span class="nav-number">3.4.3.1.</span> <span class="nav-text">BEGIN条件</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#END%E6%9D%A1%E4%BB%B6"><span class="nav-number">3.4.3.2.</span> <span class="nav-text">END条件</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#%E5%85%B3%E9%94%AE%E8%BF%90%E7%AE%97%E7%AC%A6"><span class="nav-number">3.4.3.3.</span> <span class="nav-text">关键运算符</span></a></li></ol></li><li class="nav-item nav-level-3"><a class="nav-link" href="#black-heart-sed-%E5%91%BD%E4%BB%A4"><span class="nav-number">3.4.4.</span> <span class="nav-text">:black_heart:sed 命令</span></a></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#%E5%AD%97%E7%AC%A6%E5%A4%84%E7%90%86%E5%91%BD%E4%BB%A4"><span class="nav-number">3.5.</span> <span class="nav-text">字符处理命令</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#Sort%E5%91%BD%E4%BB%A4"><span class="nav-number">3.5.1.</span> <span class="nav-text">Sort命令</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#wc-%E5%91%BD%E4%BB%A4"><span class="nav-number">3.5.2.</span> <span class="nav-text">wc 命令</span></a></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#%E6%9D%A1%E4%BB%B6%E5%88%A4%E6%96%AD"><span class="nav-number">3.6.</span> <span class="nav-text">条件判断</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#%E6%8C%89%E7%85%A7%E6%96%87%E4%BB%B6%E7%B1%BB%E5%9E%8B%E8%BF%9B%E8%A1%8C%E5%88%A4%E6%96%AD"><span class="nav-number">3.6.1.</span> <span class="nav-text">按照文件类型进行判断</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#%E6%8C%89%E7%85%A7%E6%96%87%E4%BB%B6%E6%9D%83%E9%99%90%E8%BF%9B%E8%A1%8C%E5%88%A4%E6%96%AD"><span class="nav-number">3.6.2.</span> <span class="nav-text">按照文件权限进行判断</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#%E4%B8%A4%E4%B8%AA%E6%96%87%E4%BB%B6%E4%B9%8B%E9%97%B4%E8%BF%9B%E8%A1%8C%E6%AF%94%E8%BE%83"><span class="nav-number">3.6.3.</span> <span class="nav-text">两个文件之间进行比较</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#%E4%B8%A4%E4%B8%AA%E6%95%B4%E6%95%B0%E4%B9%8B%E9%97%B4%E7%9A%84%E6%AF%94%E8%BE%83"><span class="nav-number">3.6.4.</span> <span class="nav-text">两个整数之间的比较</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#%E5%AD%97%E7%AC%A6%E4%B8%B2%E7%9A%84%E5%88%A4%E6%96%AD"><span class="nav-number">3.6.5.</span> <span class="nav-text">字符串的判断</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#%E5%A4%9A%E9%87%8D%E6%9D%A1%E4%BB%B6%E5%88%A4%E6%96%AD"><span class="nav-number">3.6.6.</span> <span class="nav-text">多重条件判断</span></a></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#%E6%B5%81%E7%A8%8B%E6%8E%A7%E5%88%B6"><span class="nav-number">3.7.</span> <span class="nav-text">流程控制</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#if%E8%AF%AD%E5%8F%A5"><span class="nav-number">3.7.1.</span> <span class="nav-text">if语句</span></a><ol class="nav-child"><li class="nav-item nav-level-4"><a class="nav-link" href="#1-%E5%8D%95%E5%88%86%E6%94%AFif%E6%9D%A1%E4%BB%B6%E8%AF%AD%E5%8F%A5"><span class="nav-number">3.7.1.1.</span> <span class="nav-text">1. 单分支if条件语句</span></a><ol class="nav-child"><li class="nav-item nav-level-5"><a class="nav-link" href="#%E5%8D%95%E5%88%86%E6%94%AF%E6%9D%A1%E4%BB%B6%E8%AF%AD%E5%8F%A5%E9%9C%80%E8%A6%81%E6%B3%A8%E6%84%8F%E5%87%A0%E4%B8%AA%E7%82%B9"><span class="nav-number">3.7.1.1.1.</span> <span class="nav-text">单分支条件语句需要注意几个点</span></a></li></ol></li><li class="nav-item nav-level-4"><a class="nav-link" href="#2-%E5%A4%9A%E5%88%86%E6%94%AFif%E6%9D%A1%E4%BB%B6%E8%AF%AD%E5%8F%A5"><span class="nav-number">3.7.1.2.</span> <span class="nav-text">2. 多分支if条件语句</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#3-%E5%A4%9A%E5%88%86%E6%94%AFif%E6%9D%A1%E4%BB%B6%E8%AF%AD%E5%8F%A5"><span class="nav-number">3.7.1.3.</span> <span class="nav-text">3. 多分支if条件语句</span></a></li></ol></li><li class="nav-item nav-level-3"><a class="nav-link" href="#case-%E8%AF%AD%E5%8F%A5"><span class="nav-number">3.7.2.</span> <span class="nav-text">case 语句</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#for-%E5%BE%AA%E7%8E%AF"><span class="nav-number">3.7.3.</span> <span class="nav-text">for 循环</span></a><ol class="nav-child"><li class="nav-item nav-level-4"><a class="nav-link" href="#%E8%AF%AD%E6%B3%951"><span class="nav-number">3.7.3.1.</span> <span class="nav-text">语法1</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#%E8%AF%AD%E6%B3%952"><span class="nav-number">3.7.3.2.</span> <span class="nav-text">语法2</span></a></li></ol></li><li class="nav-item nav-level-3"><a class="nav-link" href="#while-%E5%BE%AA%E7%8E%AF-%E4%B8%8E-until-%E5%BE%AA%E7%8E%AF"><span class="nav-number">3.7.4.</span> <span class="nav-text">while 循环 与 until 循环</span></a></li></ol></li></ol></li></ol></div>
      </div>
      <!--/noindex-->

      <div class="site-overview-wrap sidebar-panel">
        <div class="site-author motion-element" itemprop="author" itemscope itemtype="http://schema.org/Person">
  <p class="site-author-name" itemprop="name">John Doe</p>
  <div class="site-description" itemprop="description"></div>
</div>
<div class="site-state-wrap motion-element">
  <nav class="site-state">
      <div class="site-state-item site-state-posts">
          <a href="/archives/">
        
          <span class="site-state-item-count">10</span>
          <span class="site-state-item-name">posts</span>
        </a>
      </div>
  </nav>
</div>



      </div>

    </div>
  </aside>
  <div id="sidebar-dimmer"></div>


      </div>
    </main>

    <footer class="footer">
      <div class="footer-inner">
        

        

<div class="copyright">
  
  &copy; 
  <span itemprop="copyrightYear">2022</span>
  <span class="with-love">
    <i class="fa fa-heart"></i>
  </span>
  <span class="author" itemprop="copyrightHolder">John Doe</span>
</div>
  <div class="powered-by">Powered by <a href="https://hexo.io/" class="theme-link" rel="noopener" target="_blank">Hexo</a> & <a href="https://muse.theme-next.org/" class="theme-link" rel="noopener" target="_blank">NexT.Muse</a>
  </div>

        








      </div>
    </footer>
  </div>

  
  <script src="/lib/anime.min.js"></script>
  <script src="/lib/velocity/velocity.min.js"></script>
  <script src="/lib/velocity/velocity.ui.min.js"></script>

<script src="/js/utils.js"></script>

<script src="/js/motion.js"></script>


<script src="/js/schemes/muse.js"></script>


<script src="/js/next-boot.js"></script>




  















  

  

</body>
</html>
